"use strict";(self.webpackChunk_reformjs_reactive_storybook=self.webpackChunk_reformjs_reactive_storybook||[]).push([[44],{"../reactive/lib/common/color-list.js":function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.shadePropType=exports.colorPropType=exports.paletteColorPropType=exports.schemeColorPropType=exports.getColorInfo=exports.getPaletteColorClasses=exports.getSchemeColorClasses=exports.paletteColorLevels=exports.functionalColorLevels=exports.colorOrder=exports.paletteShades=exports.paletteColorOrder=exports.schemeColorOrder=void 0;const prop_types_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/prop-types@15.8.1/node_modules/prop-types/index.js")),reduce_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/reduce.js")),find_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/find.js")),isNil_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isNil.js"));function getSchemeColorClasses({colorRequired=!0,color,enableBorder,design,borderWidth}){if((0,isNil_1.default)(color)&&colorRequired)return"";let classes="ra-clr-int";return classes=(0,isNil_1.default)(color)?classes:`${classes} ra-clr-int-${color}`,classes=(0,isNil_1.default)(design)?classes:`${classes} ra-clr-int-${design}`,classes=enableBorder?`${classes} sch-br`:classes,classes=(0,isNil_1.default)(borderWidth)?classes:`${classes} border-${borderWidth}`,classes}function getPaletteColorClasses({colorRequired=!0,color,enableBorder,enableBackground,shade,borderWidth}){if((0,isNil_1.default)(color)&&colorRequired)return"";let classes="ra-palette";return classes=(0,isNil_1.default)(color)?classes:`${classes} plt-${color}`,classes=(0,isNil_1.default)(shade)?classes:`${classes} plt-${shade}`,classes=enableBorder?`${classes} plt-br`:classes,classes=enableBackground?`${classes} plt-bg`:classes,classes=(0,isNil_1.default)(borderWidth)?classes:`${classes} border-${borderWidth}`,classes}exports.schemeColorOrder=["primary","secondary","info","success","warn","danger"],exports.paletteColorOrder=["purple","navy","blue","cyan","green","yellow","orange","red","grey"],exports.paletteShades=["darkest","darker","dark","light","lighter","lightest"],exports.colorOrder=[...exports.schemeColorOrder,...exports.paletteColorOrder],exports.functionalColorLevels=(0,reduce_1.default)(exports.schemeColorOrder,((acc,color,index)=>(acc[color]=index,acc)),{}),exports.paletteColorLevels=(0,reduce_1.default)(exports.paletteColorOrder,((acc,color,index)=>(acc[color]=index,acc)),{}),exports.getSchemeColorClasses=getSchemeColorClasses,exports.getPaletteColorClasses=getPaletteColorClasses;exports.getColorInfo=options=>{const{colorRequired=!0,color}=options;let colorClasses="",isSchemeColor=!1;if((0,isNil_1.default)(color))colorRequired||(colorClasses=getSchemeColorClasses(options),isSchemeColor=!0);else{const schemeColor=(0,find_1.default)(exports.schemeColorOrder,(functionalColor=>functionalColor===color));(0,isNil_1.default)(schemeColor)?colorClasses=getPaletteColorClasses(options):(colorClasses=getSchemeColorClasses(options),isSchemeColor=!0)}return{colorClasses,isSchemeColor}},exports.schemeColorPropType=prop_types_1.default.oneOf(exports.schemeColorOrder),exports.paletteColorPropType=prop_types_1.default.oneOf(exports.paletteColorOrder),exports.colorPropType=prop_types_1.default.oneOf(exports.colorOrder),exports.shadePropType=prop_types_1.default.oneOf(exports.paletteShades)},"../reactive/lib/common/create-context/create-context.js":function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js")),wrapped_context_1=__importDefault(__webpack_require__("../reactive/lib/common/create-context/wrapped-context.js"));exports.default=function createContext(propName){const context=react_1.default.createContext();return context.ApplyConsumer=Component=>(0,wrapped_context_1.default)(context,Component,propName),context}},"../reactive/lib/common/create-context/wrapped-context.js":function(__unused_webpack_module,exports,__webpack_require__){var __rest=this&&this.__rest||function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const isNil_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isNil.js")),react_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"));exports.default=(Context,Component,contextName)=>{const propName=!(0,isNil_1.default)(contextName)&&contextName.length>0?contextName:"context",wrapped=react_1.default.forwardRef(((props,ref)=>{const{children}=props,rest=__rest(props,["children"]);return react_1.default.createElement(Context.Consumer,null,(contextValue=>{const contextProp={[propName]:contextValue};return react_1.default.createElement(Component,Object.assign({ref},rest,contextProp),children)}))}));return wrapped.displayName=Component.name,Component.displayName=`Wrapped${Component.name}`,wrapped}},"../reactive/lib/common/prop-types.js":function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const prop_types_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/prop-types@15.8.1/node_modules/prop-types/index.js"));prop_types_1.default.icon=prop_types_1.default.shape({icon:prop_types_1.default.arrayOf(prop_types_1.default.any).isRequired,prefix:prop_types_1.default.string.isRequired,iconName:prop_types_1.default.string.isRequired}),prop_types_1.default.children=prop_types_1.default.oneOfType([prop_types_1.default.node,prop_types_1.default.arrayOf(prop_types_1.default.node)]),prop_types_1.default.Component=prop_types_1.default.oneOfType([prop_types_1.default.string,prop_types_1.default.elementType]),prop_types_1.default.inputMessages=prop_types_1.default.shape({general:prop_types_1.default.arrayOf(prop_types_1.default.string),success:prop_types_1.default.arrayOf(prop_types_1.default.string),failure:prop_types_1.default.arrayOf(prop_types_1.default.string)}),exports.default=prop_types_1.default},"../reactive/lib/components/arrangement/tray/index.js":function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const tray_1=__importDefault(__webpack_require__("../reactive/lib/components/arrangement/tray/tray.js"));exports.default=tray_1.default},"../reactive/lib/components/arrangement/tray/tray.js":function(__unused_webpack_module,exports,__webpack_require__){var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);desc&&!("get"in desc?!m.__esModule:desc.writable||desc.configurable)||(desc={enumerable:!0,get:function(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importStar(__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js")),react_dom_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/react-dom@18.2.0_react@18.2.0/node_modules/react-dom/index.js")),prop_types_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/prop-types@15.8.1/node_modules/prop-types/index.js")),classnames_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/classnames@2.3.2/node_modules/classnames/index.js")),forEach_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/forEach.js")),merge_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/merge.js")),isNil_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isNil.js")),noop_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/noop.js")),shortid_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/shortid@2.2.15/node_modules/shortid/index.js")),TrayContext=(0,react_1.createContext)({renderIndex:0,onRegister:()=>noop_1.default}),DEFAULT_DROP_POSITIONS=["bottom","top","right","left"],cornerRadius=4,clearStylesMeta={top:null,left:null,bottom:null,right:null,zIndex:null};function applyStyles(trayElement,styles){(0,forEach_1.default)(styles,((styleValue,styleId)=>{const trayElementStyle=trayElement.style;trayElementStyle[styleId]!==styleValue&&(trayElementStyle[styleId]=styleValue)}))}function clearStyles(trayElement){applyStyles(trayElement,clearStylesMeta),trayElement.classList.remove("top"),trayElement.classList.remove("bottom"),trayElement.classList.remove("left"),trayElement.classList.remove("right")}function buildPx(value){return(0,isNil_1.default)(value)?null:`${value}px`}function determineAllowedHeight(windowHeight,positionValues){const{fromPosition,toPosition}=positionValues;return windowHeight-fromPosition-toPosition}function attemptLevelMiddle(renderingParameters){const{sidePadding,windowHeight,trayRect,anchorRect}=renderingParameters,styles={},hasRoom=sidePadding+sidePadding+trayRect.height<=windowHeight;let mountTo="null";if(anchorRect.top<sidePadding)mountTo="top";else if(anchorRect.bottom>windowHeight-sidePadding)mountTo="bottom";else{mountTo=anchorRect.top-sidePadding<windowHeight-anchorRect.bottom-sidePadding?"top":"bottom"}return"top"===mountTo?(styles.top=buildPx(sidePadding),hasRoom||(styles.bottom=buildPx(sidePadding))):(styles.bottom=buildPx(sidePadding),hasRoom||(styles.top=buildPx(sidePadding))),styles}function attemptLevel(renderingParameters){let styles=function attemptLevelTop(renderingParameters){const{anchorRect,windowHeight,sidePadding,offset:{top:topOffset},trayRect}=renderingParameters,topPosition=anchorRect.top+topOffset;if(topPosition<sidePadding)return null;const finalHeight=trayRect.height,allowedMaxHeight=determineAllowedHeight(windowHeight,{fromPosition:topPosition,toPosition:sidePadding});return allowedMaxHeight<=0||allowedMaxHeight<finalHeight?null:topPosition+finalHeight+sidePadding<=windowHeight?{top:buildPx(topPosition)}:null}(renderingParameters);return(0,isNil_1.default)(styles)?(styles=function attemptLevelBottom(renderingParameters){const{anchorRect,windowHeight,sidePadding,offset:{bottom:bottomOffset},trayRect}=renderingParameters,bottomPosition=windowHeight-anchorRect.bottom+bottomOffset;if(bottomPosition<sidePadding)return null;const finalHeight=trayRect.height,allowedMaxHeight=determineAllowedHeight(windowHeight,{fromPosition:sidePadding,toPosition:bottomPosition});return allowedMaxHeight<=0||allowedMaxHeight<finalHeight?null:anchorRect.bottom-finalHeight-sidePadding>=0?{bottom:buildPx(bottomPosition)}:null}(renderingParameters),(0,isNil_1.default)(styles)?{styles:attemptLevelMiddle(renderingParameters),location:"middle"}:{styles,location:"bottom"}):{styles,location:"top"}}function centerHorizontally(anchorRect,finalWidth,windowWidth,sidePadding){let offsetLeft=0,offsetRight=0;const halfWidth=function calcCenter(trayWidth,otherWidth){return(trayWidth-otherWidth)/2}(finalWidth,anchorRect.width);offsetLeft=anchorRect.left-halfWidth,offsetRight=anchorRect.right+halfWidth;let hasLeftRoom=offsetLeft>=sidePadding;if(hasLeftRoom){if(!(offsetRight<=windowWidth-sidePadding)){const rightDifference=offsetRight-(windowWidth-sidePadding);if(offsetRight-=rightDifference,offsetLeft-=rightDifference,hasLeftRoom=offsetLeft>=sidePadding,!hasLeftRoom)return sidePadding}return offsetLeft}const leftDifference=sidePadding-offsetLeft;offsetRight+=leftDifference,offsetLeft+=leftDifference;return offsetRight<=windowWidth-sidePadding?offsetLeft:sidePadding}function determineLeftAlignment(alignmentValues,force){const{anchorRect,finalWidth,windowWidth,sidePadding,horizontallyCenter,dockRight}=alignmentValues;if(anchorRect.left<sidePadding)return force?{styles:{left:buildPx(sidePadding)},location:"left"}:null;return anchorRect.right>windowWidth-sidePadding?force?{styles:{right:buildPx(sidePadding)},location:"right"}:null:horizontallyCenter?{styles:{left:buildPx(centerHorizontally(anchorRect,finalWidth,windowWidth,sidePadding))},location:"middle"}:function dockLeftRight(anchorRect,finalWidth,windowWidth,sidePadding,dockRight){if(!dockRight&&anchorRect.left+finalWidth+sidePadding<=windowWidth)return{styles:{left:buildPx(anchorRect.left)},location:"left"};return anchorRect.right-finalWidth-sidePadding>=0?{styles:{left:buildPx(anchorRect.right-finalWidth)},location:"right"}:{styles:{left:buildPx(sidePadding)},location:"left"}}(anchorRect,finalWidth,windowWidth,sidePadding,dockRight)}function getFinalHeights(renderingParameters,positionValues,isClipped,force){const{trayRect,windowHeight}=renderingParameters,{fromPosition,toPosition}=positionValues;let finalHeight=trayRect.height;const allowedMaxHeight=determineAllowedHeight(windowHeight,{fromPosition,toPosition});if(allowedMaxHeight<=0)return null;if(allowedMaxHeight<=finalHeight){if(!force&&!isClipped)return null;finalHeight=allowedMaxHeight}return{finalHeight}}const attemptRender={bottom:function attemptBottomRender(renderingParameters,force){const{anchorRect,windowWidth,sidePadding,paddingValue,trayRect,horizontallyCenter,dockRight,tailOffset}=renderingParameters,top=anchorRect.bottom+paddingValue+tailOffset,finalHeights=getFinalHeights(renderingParameters,{fromPosition:top,toPosition:sidePadding},anchorRect.top<sidePadding,force);if((0,isNil_1.default)(finalHeights))return null;const trayStylingResult=determineLeftAlignment({anchorRect,finalWidth:trayRect.width,windowWidth,sidePadding,horizontallyCenter,dockRight},force);if((0,isNil_1.default)(trayStylingResult))return null;const{styles:alignmentStyles,location}=trayStylingResult;return{styles:Object.assign(Object.assign({},alignmentStyles),{top:buildPx(top)}),location}},top:function attemptTopRender(renderingParameters,force){const{anchorRect,windowHeight,windowWidth,sidePadding,paddingValue,trayRect,horizontallyCenter,dockRight,tailOffset}=renderingParameters,bottom=windowHeight-anchorRect.top+paddingValue+tailOffset,finalHeights=getFinalHeights(renderingParameters,{fromPosition:sidePadding,toPosition:bottom},anchorRect.bottom>windowHeight+sidePadding,force);if((0,isNil_1.default)(finalHeights))return null;const trayStylingResult=determineLeftAlignment({anchorRect,finalWidth:trayRect.width,windowWidth,sidePadding,horizontallyCenter,dockRight},force);if((0,isNil_1.default)(trayStylingResult))return null;const{styles:alignmentStyles,location}=trayStylingResult;return{styles:Object.assign(Object.assign({},alignmentStyles),{bottom:buildPx(bottom)}),location}},left:function attemptLeftRender(renderingParameters,force){const{anchorRect,trayRect,paddingValue,windowWidth,sidePadding,tailOffset,windowHeight}=renderingParameters;if(anchorRect.left-paddingValue-sidePadding-tailOffset<=0)return null;const finalWidth=trayRect.width;if(anchorRect.left-paddingValue-sidePadding-finalWidth-tailOffset<0&&!force)return null;if((anchorRect.top<0||anchorRect.bottom>windowHeight)&&!force)return null;const trayStylingResultInt=attemptLevel(renderingParameters),{styles,location}=trayStylingResultInt;return styles.right=buildPx(windowWidth-anchorRect.left+paddingValue+tailOffset),anchorRect.left-trayRect.width-paddingValue-sidePadding<0&&(styles.left=buildPx(sidePadding)),{styles,location}},right:function attemptRightRender(renderingParameters,force){const{anchorRect,sidePadding,paddingValue,windowWidth,trayRect,tailOffset,windowHeight}=renderingParameters;if(anchorRect.right+paddingValue+sidePadding+tailOffset>=windowWidth)return null;const finalWidth=trayRect.width;if(anchorRect.right+paddingValue+sidePadding+tailOffset+finalWidth>windowWidth&&!force)return null;if((anchorRect.top<0||anchorRect.bottom>windowHeight)&&!force)return null;const{styles,location}=attemptLevel(renderingParameters)||{};return styles.left=buildPx(anchorRect.right+paddingValue+tailOffset),anchorRect.right+trayRect.width+paddingValue+sidePadding>windowWidth&&(styles.right=buildPx(sidePadding)),{styles,location}}};function executeRenderMethods(dropPositions,renderingParameters,force=!1){let results=null;return(0,forEach_1.default)(dropPositions,(dropPosition=>{const attemptRenderMethod=attemptRender[dropPosition];if((0,isNil_1.default)(attemptRenderMethod))throw new Error("Invalid Drop Position");const trayRenderResult=attemptRenderMethod(renderingParameters,force);if(!(0,isNil_1.default)(trayRenderResult)){const{styles,location}=trayRenderResult;return results={styles,position:dropPosition,location},!1}return!0})),results}function setVerticalTailLocation(tailRenderingParameters){const{location,anchorRect,trayRect,tailRect,windowHeight}=tailRenderingParameters,styles={};if("top"===location)if(anchorRect.height<trayRect.height)if(anchorRect.top<trayRect.top)styles.top=buildPx(trayRect.top+cornerRadius);else{const anchorCenter=anchorRect.height/2,tailCenter=tailRect.height/2;styles.top=buildPx(anchorRect.top+anchorCenter-tailCenter)}else styles.top=buildPx(trayRect.top+cornerRadius);else if("bottom"===location)if(anchorRect.height<trayRect.height)if(anchorRect.bottom>trayRect.bottom)styles.bottom=buildPx(windowHeight-trayRect.bottom+cornerRadius);else{const anchorCenter=anchorRect.height/2,tailCenter=tailRect.height/2;styles.top=buildPx(anchorRect.top+anchorCenter-tailCenter)}else styles.bottom=buildPx(windowHeight-trayRect.bottom+cornerRadius);else{const anchorCenter=anchorRect.height/2,tailCenter=tailRect.height/2;styles.top=buildPx(anchorRect.top+(anchorCenter-tailCenter))}return styles}const dropPositionTypes=prop_types_1.default.oneOf(["top","bottom","left","right"]);class Tray extends react_1.Component{constructor(props){super(props),this.uuid=(0,shortid_1.default)(),this.trayRef=(0,react_1.createRef)(),this.tailRef=(0,react_1.createRef)(),this.childTrays={},this.cleanUp=noop_1.default,this.pendingBlur=!1,this.handleBlur=this.handleBlur.bind(this),this.handleFocus=this.handleFocus.bind(this),this.handleRegister=this.handleRegister.bind(this)}componentDidMount(){const{onRegister}=this.context;this.cleanUp=onRegister(this)}componentDidUpdate(previousProps){const{open:wasOpen}=previousProps,{open:isOpen}=this.props;this.updatePosition(isOpen,wasOpen)}componentWillUnmount(){(0,isNil_1.default)(this.cleanUp)||this.cleanUp()}handleFocus(){if(!this.pendingBlur){const{onContainedFocus}=this.props;(0,isNil_1.default)(onContainedFocus)||onContainedFocus()}this.pendingBlur=!1}handleBlur(event){setTimeout((()=>{const{onContainedBlur}=this.props;!(0,isNil_1.default)(onContainedBlur)&&this.pendingBlur&&onContainedBlur(event)}),1),this.pendingBlur=!0,event.persist()}handleRegister(component){return this.childTrays[component.uuid]=component,()=>{delete this.childTrays[component.uuid]}}rootElement(){return this.trayRef.current}contains(targetElement){if((0,isNil_1.default)(this.trayRef.current))return!1;if(targetElement===this.trayRef.current)return!0;if(this.trayRef.current.contains(targetElement))return!0;let found=!1;return(0,forEach_1.default)(this.childTrays,(childTray=>(found=childTray.contains(targetElement),!found))),found}updatePosition(isOpen,wasOpen){const{renderIndex}=this.context,{getAnchor,dropPositions,parentPadding,offset,horizontallyCenter=!1,dockRight=!1,enableTail}=this.props;if(!isOpen&&!wasOpen)return;if((0,isNil_1.default)(this.trayRef.current))return;const trayElement=this.trayRef.current,tailElement=this.tailRef.current;if(!isOpen)return clearStyles(trayElement),void((0,isNil_1.default)(tailElement)||clearStyles(tailElement));const anchorElement=getAnchor();if((0,isNil_1.default)(anchorElement))return;const anchorRect=anchorElement.getBoundingClientRect(),trayRect=trayElement.getBoundingClientRect(),windowWidth=document.documentElement.clientWidth,windowHeight=document.documentElement.clientHeight,paddingValue=(0,isNil_1.default)(parentPadding)?0:parentPadding,tailOffset=enableTail?12:0,zIndex=renderIndex+2e3,renderingParameters={anchorRect,trayRect,offset:(0,merge_1.default)({left:0,right:0,top:0,bottom:0},offset),horizontallyCenter,dockRight,tailOffset,sidePadding:10,windowWidth,windowHeight,paddingValue,zIndex},{position,location}=function setTrayStyles(trayElement,dropPositions,renderingParameters){let trayRenderResult=executeRenderMethods(dropPositions,renderingParameters);(0,isNil_1.default)(trayRenderResult)&&(trayRenderResult=executeRenderMethods(dropPositions,renderingParameters,!0));const{styles,position,location}=trayRenderResult;return styles.zIndex=renderingParameters.zIndex,applyStyles(trayElement,Object.assign(Object.assign({},clearStylesMeta),styles)),trayElement.classList.contains("top")?trayElement.classList.replace("top",position):trayElement.classList.contains("bottom")?trayElement.classList.replace("bottom",position):trayElement.classList.contains("left")?trayElement.classList.replace("left",position):trayElement.classList.contains("right")?trayElement.classList.replace("right",position):trayElement.classList.add(position),{position,location}}(trayElement,dropPositions||DEFAULT_DROP_POSITIONS,renderingParameters);if(!(0,isNil_1.default)(tailElement)&&!(0,isNil_1.default)(position)){const tailRect=tailElement.getBoundingClientRect();!function setTailStyles(tailElement,tailRenderingParameters){const{position,location,windowWidth,anchorRect,trayRect,zIndex,tailRect}=tailRenderingParameters,styles={zIndex};if("bottom"===position)if(tailElement.classList.add("bottom"),styles.top=buildPx(anchorRect.bottom-tailRect.width/2),"left"===location)styles.left=buildPx(trayRect.left+cornerRadius);else if("right"===location)styles.right=buildPx(windowWidth-trayRect.right+cornerRadius);else{const anchorCenter=anchorRect.width/2,tailCenter=tailRect.width/2;styles.left=buildPx(anchorRect.left+(anchorCenter-tailCenter))}else if("top"===position)if(tailElement.classList.add("top"),styles.top=buildPx(anchorRect.top-tailRect.width/2),"left"===location)styles.left=buildPx(trayRect.left+cornerRadius);else if("right"===location)styles.right=buildPx(windowWidth-trayRect.right+cornerRadius);else{const anchorCenter=anchorRect.width/2,tailCenter=tailRect.width/2;styles.left=buildPx(anchorRect.left+(anchorCenter-tailCenter))}else"left"===position?(tailElement.classList.add("left"),styles.left=buildPx(anchorRect.left-tailRect.height/2),(0,merge_1.default)(styles,setVerticalTailLocation(tailRenderingParameters))):"right"===position?(tailElement.classList.add("right"),styles.left=buildPx(anchorRect.right-tailRect.height/2),(0,merge_1.default)(styles,setVerticalTailLocation(tailRenderingParameters))):console.warn("drop down arrow not built yet for this");(0,merge_1.default)(tailElement.style,styles)}(tailElement,{anchorRect,trayRect:trayElement.getBoundingClientRect(),position,location,sidePadding:10,windowWidth,windowHeight,zIndex,tailRect})}}render(){const{renderIndex}=this.context,{id,className,children,onClick,open,enableTail,maxHeight,getAnchor}=this.props;let{minWidth,maxWidth}=this.props;if("anchor"===minWidth||"anchor"===maxWidth){const anchor=getAnchor();if(!(0,isNil_1.default)(anchor)){const width=anchor.clientWidth;"anchor"===minWidth&&(minWidth=width),"anchor"===maxWidth&&(maxWidth=width)}}const tail=enableTail?react_1.default.createElement("div",{ref:this.tailRef,className:(0,classnames_1.default)("ra-tray-tail",{"active-hidden":!open})}):null,tray=react_1.default.createElement(TrayContext.Provider,{value:{renderIndex:renderIndex+1,onRegister:this.handleRegister}},react_1.default.createElement("div",{id,role:"presentation",ref:this.trayRef,className:(0,classnames_1.default)("ra-tray",{"active-hidden":!open},className),tabIndex:-1,onClick,onFocus:this.handleFocus,onBlur:this.handleBlur,style:{maxHeight,minWidth,maxWidth}},children),tail);return react_dom_1.default.createPortal(tray,window.document.body)}}Tray.displayName="Tray",Tray.propTypes={id:prop_types_1.default.string,className:prop_types_1.default.string,children:prop_types_1.default.oneOfType([prop_types_1.default.node,prop_types_1.default.arrayOf(prop_types_1.default.node)]),open:prop_types_1.default.bool,dropPositions:prop_types_1.default.arrayOf(dropPositionTypes),getAnchor:prop_types_1.default.func.isRequired,onClick:prop_types_1.default.func,parentPadding:prop_types_1.default.number,onContainedFocus:prop_types_1.default.func,onContainedBlur:prop_types_1.default.func,minWidth:prop_types_1.default.oneOfType([prop_types_1.default.number,prop_types_1.default.oneOf(["anchor"])]),maxWidth:prop_types_1.default.oneOfType([prop_types_1.default.number,prop_types_1.default.oneOf(["anchor"])]),maxHeight:prop_types_1.default.number,offset:prop_types_1.default.shape({left:prop_types_1.default.number,right:prop_types_1.default.number,top:prop_types_1.default.number,bottom:prop_types_1.default.number}),horizontallyCenter:prop_types_1.default.bool,dockRight:prop_types_1.default.bool,enableTail:prop_types_1.default.bool},Tray.defaultProps={id:null,className:null,open:!1,children:null,dropPositions:["bottom","top","right","left"],onClick:null,parentPadding:null,onContainedFocus:null,onContainedBlur:null,minWidth:null,maxWidth:null,maxHeight:null,offset:null,horizontallyCenter:!1,dockRight:!1,enableTail:!1},Tray.contextType=TrayContext,exports.default=Tray,Tray.__docgenInfo={description:"",methods:[{name:"handleFocus",docblock:null,modifiers:[],params:[],returns:null},{name:"handleBlur",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handleRegister",docblock:null,modifiers:[],params:[{name:"component",type:null}],returns:null},{name:"rootElement",docblock:null,modifiers:[],params:[],returns:null},{name:"contains",docblock:null,modifiers:[],params:[{name:"targetElement",type:null}],returns:null},{name:"updatePosition",docblock:null,modifiers:[],params:[{name:"isOpen",type:null},{name:"wasOpen",type:null}],returns:null}],displayName:"Tray",props:{id:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"custom",raw:"prop_types_1.default.string"},required:!1},className:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"custom",raw:"prop_types_1.default.string"},required:!1},open:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"custom",raw:"prop_types_1.default.bool"},required:!1},children:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"custom",raw:"prop_types_1.default.oneOfType([\n    prop_types_1.default.node,\n    prop_types_1.default.arrayOf(prop_types_1.default.node),\n])"},required:!1},dropPositions:{defaultValue:{value:"['bottom', 'top', 'right', 'left']",computed:!1},description:"",type:{name:"custom",raw:"prop_types_1.default.arrayOf(dropPositionTypes)"},required:!1},onClick:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"custom",raw:"prop_types_1.default.func"},required:!1},parentPadding:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"custom",raw:"prop_types_1.default.number"},required:!1},onContainedFocus:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"custom",raw:"prop_types_1.default.func"},required:!1},onContainedBlur:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"custom",raw:"prop_types_1.default.func"},required:!1},minWidth:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"custom",raw:"prop_types_1.default.oneOfType([\n    prop_types_1.default.number,\n    prop_types_1.default.oneOf(['anchor']),\n])"},required:!1},maxWidth:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"custom",raw:"prop_types_1.default.oneOfType([\n    prop_types_1.default.number,\n    prop_types_1.default.oneOf(['anchor']),\n])"},required:!1},maxHeight:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"custom",raw:"prop_types_1.default.number"},required:!1},offset:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"custom",raw:"prop_types_1.default.shape({\n    left: prop_types_1.default.number,\n    right: prop_types_1.default.number,\n    top: prop_types_1.default.number,\n    bottom: prop_types_1.default.number,\n})"},required:!1},horizontallyCenter:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"custom",raw:"prop_types_1.default.bool"},required:!1},dockRight:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"custom",raw:"prop_types_1.default.bool"},required:!1},enableTail:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"custom",raw:"prop_types_1.default.bool"},required:!1},getAnchor:{description:"",type:{name:"custom",raw:"prop_types_1.default.func.isRequired"},required:!1}}}},"../reactive/lib/components/controls/button/button.js":function(__unused_webpack_module,exports,__webpack_require__){var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);desc&&!("get"in desc?!m.__esModule:desc.writable||desc.configurable)||(desc={enumerable:!0,get:function(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result},__rest=this&&this.__rest||function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importStar(__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js")),classnames_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/classnames@2.3.2/node_modules/classnames/index.js")),isNil_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isNil.js")),isEmpty_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isEmpty.js")),color_list_1=__webpack_require__("../reactive/lib/common/color-list.js"),prop_types_1=__importDefault(__webpack_require__("../reactive/lib/common/prop-types.js"));class Button extends react_1.PureComponent{constructor(props){super(props),this.buttonRef=react_1.default.createRef(),this.focus=this.focus.bind(this)}componentDidMount(){const{focusOnMount}=this.props;focusOnMount&&this.focus()}getRootNode(){return this.buttonRef.current}focus(){const{current}=this.buttonRef;(0,isNil_1.default)(current)?console.warn("Attempting to focus on an unmounted component"):current.focus()}render(){const _a=this.props,{className,design,color,children,variant,focusOnMount,Component}=_a,rest=__rest(_a,["className","design","color","children","variant","focusOnMount","Component"]),colorClasses=(0,color_list_1.getSchemeColorClasses)({colorRequired:!1,color,design}),props=Object.assign({ref:this.buttonRef,className:(0,classnames_1.default)("ra-button","no-select","ra-clr-int-control",colorClasses,className,{[`ra-btn-variant-${variant}`]:!(0,isEmpty_1.default)(variant)})},rest);return react_1.default.createElement(Component,Object.assign({},props),children)}}Button.displayName="Button",Button.propTypes={className:prop_types_1.default.string,Component:prop_types_1.default.Component,color:prop_types_1.default.string,design:prop_types_1.default.string,variant:prop_types_1.default.string,children:prop_types_1.default.oneOfType([prop_types_1.default.node,prop_types_1.default.arrayOf(prop_types_1.default.node)]),focusOnMount:prop_types_1.default.bool},Button.defaultProps={Component:"button",className:null,design:null,color:null,children:null,variant:null,focusOnMount:!1},exports.default=Button,Button.__docgenInfo={description:"",methods:[{name:"getRootNode",docblock:null,modifiers:[],params:[],returns:null},{name:"focus",docblock:null,modifiers:[],params:[],returns:null}],displayName:"Button",props:{Component:{defaultValue:{value:"'button'",computed:!1},description:"",type:{name:"custom",raw:"prop_types_1.default.Component"},required:!1},className:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"custom",raw:"prop_types_1.default.string"},required:!1},design:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"custom",raw:"prop_types_1.default.string"},required:!1},color:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"custom",raw:"prop_types_1.default.string"},required:!1},children:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"custom",raw:"prop_types_1.default.oneOfType([\n    prop_types_1.default.node,\n    prop_types_1.default.arrayOf(prop_types_1.default.node),\n])"},required:!1},variant:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"custom",raw:"prop_types_1.default.string"},required:!1},focusOnMount:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"custom",raw:"prop_types_1.default.bool"},required:!1}}}},"../reactive/lib/components/controls/button/index.js":function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const button_1=__importDefault(__webpack_require__("../reactive/lib/components/controls/button/button.js"));exports.default=button_1.default},"../reactive/lib/components/controls/drop-down/anchor-binding.js":function(__unused_webpack_module,exports,__webpack_require__){var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);desc&&!("get"in desc?!m.__esModule:desc.writable||desc.configurable)||(desc={enumerable:!0,get:function(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.AnchorWrapper=void 0;const react_1=__importStar(__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js")),classnames_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/classnames@2.3.2/node_modules/classnames/index.js")),isNil_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isNil.js")),isFunction_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isFunction.js")),prop_types_1=__importDefault(__webpack_require__("../reactive/lib/common/prop-types.js"));function getTarget(rootElement,selector){return(0,isNil_1.default)(rootElement)?null:(0,isNil_1.default)(selector)?rootElement.firstElementChild:rootElement.querySelector(selector)}class AnchorWrapper extends react_1.Component{constructor(props){super(props),this.anchorRef=(0,react_1.createRef)(),this.getBoundingElement=this.getBoundingElement.bind(this),this.contains=this.contains.bind(this),this.focus=this.focus.bind(this)}getBoundingElement(){const{boundingTargetSelector}=this.props;return getTarget(this.anchorRef.current,boundingTargetSelector)}contains(element){const anchorElement=this.anchorRef.current;return!(0,isNil_1.default)(anchorElement)&&anchorElement.contains(element)}focus(){const{focusTargetSelector}=this.props,focusTarget=getTarget(this.anchorRef.current,focusTargetSelector);(0,isNil_1.default)(focusTarget)||focusTarget.focus()}render(){const{AnchorComponent,bindingInterface:{onClick,onFocus,onKeyPress,onKeyDown,onPointerEnter,onPointerLeave,onPointerCancel},anchorProps={},open}=this.props;return react_1.default.createElement("div",{ref:this.anchorRef,className:(0,classnames_1.default)("anchor-binding"),tabIndex:-1,onClick,onFocus,onKeyPress,onKeyDown,onPointerEnter,onPointerLeave,onPointerCancel},react_1.default.createElement(AnchorComponent,Object.assign({},anchorProps,{open})))}}AnchorWrapper.displayName="AnchorWrapper",exports.AnchorWrapper=AnchorWrapper,AnchorWrapper.propTypes={boundingTargetSelector:prop_types_1.default.any.isRequired,focusTargetSelector:prop_types_1.default.any.isRequired,AnchorComponent:prop_types_1.default.any.isRequired,bindingInterface:prop_types_1.default.shape({onClick:prop_types_1.default.func,onFocus:prop_types_1.default.func,onKeyPress:prop_types_1.default.func,onKeyDown:prop_types_1.default.func,onPointerEnter:prop_types_1.default.func,onPointerLeave:prop_types_1.default.func,onPointerCancel:prop_types_1.default.func}).isRequired,anchorProps:prop_types_1.default.object,open:prop_types_1.default.isRequired},AnchorWrapper.defaultProps={anchorProps:null};const AnchorBindingPropTypes={anchorProps:prop_types_1.default.object,bindingRef:prop_types_1.default.string.isRequired},AnchorBindingDefaultProps={anchorProps:null};exports.default=function applyAnchorBinding(AnchorComponent,options={}){const{focusSelector,boundingSelector}=options;let focusSelectorLookup=focusSelector,boundingSelectorLookup=boundingSelector;(0,isFunction_1.default)(focusSelector)||(focusSelectorLookup=()=>focusSelector),(0,isFunction_1.default)(boundingSelector)||(boundingSelectorLookup=()=>boundingSelector);const AnchorBinding=props=>{const{anchorProps,bindingRef}=props;return react_1.default.createElement(AnchorWrapper,Object.assign({},props,{ref:bindingRef,AnchorComponent,boundingTargetSelector:boundingSelectorLookup(anchorProps),focusTargetSelector:focusSelectorLookup(anchorProps)}))};return AnchorBinding.propTypes=AnchorBindingPropTypes,AnchorBinding.defaultProps=AnchorBindingDefaultProps,AnchorBinding},AnchorWrapper.__docgenInfo={description:"",methods:[{name:"getBoundingElement",docblock:"@returns {null|HTMLNode}",modifiers:[],params:[],returns:{description:null,type:{name:"union",elements:[null,{name:"HTMLNode"}]}},description:null},{name:"contains",docblock:"@param {null|HTMLElement} element\n@returns {boolean}",modifiers:[],params:[{name:"element",description:null,type:{name:"union",elements:[null,{name:"HTMLElement"}]},optional:!1}],returns:{description:null,type:{name:"boolean"}},description:null},{name:"focus",docblock:"Focus the proper element",modifiers:[],params:[],returns:null,description:"Focus the proper element"}],displayName:"AnchorWrapper",props:{anchorProps:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"custom",raw:"prop_types_1.default.object"},required:!1},boundingTargetSelector:{description:"",type:{name:"custom",raw:"prop_types_1.default.any.isRequired"},required:!1},focusTargetSelector:{description:"",type:{name:"custom",raw:"prop_types_1.default.any.isRequired"},required:!1},AnchorComponent:{description:"",type:{name:"custom",raw:"prop_types_1.default.any.isRequired"},required:!1},bindingInterface:{description:"",type:{name:"custom",raw:"prop_types_1.default.shape({\n    onClick: prop_types_1.default.func,\n    onFocus: prop_types_1.default.func,\n    onKeyPress: prop_types_1.default.func,\n    onKeyDown: prop_types_1.default.func,\n    onPointerEnter: prop_types_1.default.func,\n    onPointerLeave: prop_types_1.default.func,\n    onPointerCancel: prop_types_1.default.func,\n}).isRequired"},required:!1},open:{description:"",type:{name:"custom",raw:"prop_types_1.default.isRequired"},required:!1}}}},"../reactive/lib/components/controls/drop-down/anchors/anchor-button.js":function(__unused_webpack_module,exports,__webpack_require__){var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);desc&&!("get"in desc?!m.__esModule:desc.writable||desc.configurable)||(desc={enumerable:!0,get:function(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result},__rest=this&&this.__rest||function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importStar(__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js")),prop_types_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/prop-types@15.8.1/node_modules/prop-types/index.js")),classnames_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/classnames@2.3.2/node_modules/classnames/index.js")),button_1=__importDefault(__webpack_require__("../reactive/lib/components/controls/button/index.js")),anchor_binding_1=__importDefault(__webpack_require__("../reactive/lib/components/controls/drop-down/anchor-binding.js"));class AnchorButton extends react_1.PureComponent{render(){const _a=this.props,{className,open,children}=_a,rest=__rest(_a,["className","open","children"]);return react_1.default.createElement(button_1.default,Object.assign({},rest,{className:(0,classnames_1.default)(className,{focus:open}),type:"button"}),children)}}AnchorButton.displayName="AnchorButton",AnchorButton.propTypes={className:prop_types_1.default.string,open:prop_types_1.default.bool.isRequired,children:prop_types_1.default.oneOfType([prop_types_1.default.node,prop_types_1.default.arrayOf(prop_types_1.default.node)])},AnchorButton.defaultProps={className:null,children:null},exports.default=(0,anchor_binding_1.default)(AnchorButton),AnchorButton.__docgenInfo={description:"",methods:[],displayName:"AnchorButton",props:{className:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"custom",raw:"prop_types_1.default.string"},required:!1},children:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"custom",raw:"prop_types_1.default.oneOfType([\n    prop_types_1.default.node,\n    prop_types_1.default.arrayOf(prop_types_1.default.node),\n])"},required:!1},open:{description:"",type:{name:"custom",raw:"prop_types_1.default.bool.isRequired"},required:!1}}}},"../reactive/lib/components/controls/drop-down/drop-down-context.js":function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.ApplyConsumer=exports.Consumer=exports.context=void 0;const create_context_1=__importDefault(__webpack_require__("../reactive/lib/common/create-context/create-context.js"));exports.context=(0,create_context_1.default)("dropDownContext");const{Provider,Consumer,ApplyConsumer}=exports.context;exports.Consumer=Consumer,exports.ApplyConsumer=ApplyConsumer,exports.default=Provider},"../reactive/lib/components/controls/drop-down/drop-down.js":function(__unused_webpack_module,exports,__webpack_require__){var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);desc&&!("get"in desc?!m.__esModule:desc.writable||desc.configurable)||(desc={enumerable:!0,get:function(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importStar(__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js")),prop_types_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/prop-types@15.8.1/node_modules/prop-types/index.js")),classnames_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/classnames@2.3.2/node_modules/classnames/index.js")),isNil_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isNil.js")),noop_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/noop.js")),get_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/get.js")),debounce_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/debounce.js")),tray_1=__importDefault(__webpack_require__("../reactive/lib/components/arrangement/tray/index.js")),drop_down_context_1=__importDefault(__webpack_require__("../reactive/lib/components/controls/drop-down/drop-down-context.js")),DEFAULTS={openOnClick:!0},dropPositionTypes=prop_types_1.default.oneOf(["top","bottom","left","right"]);class DropDown extends react_1.Component{constructor(props){super(props),this.openRef=(0,react_1.createRef)(!1),this.openRef.current=!1,this.mainRef=(0,react_1.createRef)(),this.anchorRef=(0,react_1.createRef)(),this.trayRef=(0,react_1.createRef)(),this.openFromHoverTimer=null,this.autoCloseTimer=null,this.controlTimer=null,this.keyOnce=!1,this.handleButtonKeyPress=this.handleButtonKeyPress.bind(this),this.handleButtonClick=this.handleButtonClick.bind(this),this.handleTrayClick=this.handleTrayClick.bind(this),this.handleWindowEvent=(0,debounce_1.default)(this.handleWindowEvent.bind(this),200,{leading:!0,trailing:!1}),this.handleButtonFocus=this.handleButtonFocus.bind(this),this.handleBlur=this.handleBlur.bind(this),this.handleKeyUp=this.handleKeyUp.bind(this),this.setOpen=(0,debounce_1.default)(this.setOpen.bind(this),200,{leading:!0,trailing:!1}),this.focus=this.focus.bind(this),this.getAnchor=this.getAnchor.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleAnchorPointerEnter=this.handleAnchorPointerEnter.bind(this),this.handleAnchorPointerLeave=this.handleAnchorPointerLeave.bind(this),this.state={open:!1,openFromHover:!1,openFromFocus:!1}}componentDidMount(){window.addEventListener("scroll",this.handleWindowEvent,!0),window.addEventListener("resize",this.handleWindowEvent)}componentDidUpdate(){const{onOpened,onClosed}=this.props,{open}=this.state;this.openRef.current!==open&&(open?(0,isNil_1.default)(onOpened)||onOpened():(0,isNil_1.default)(onClosed)||onClosed(),this.openRef.current=open)}componentWillUnmount(){this.autoCloseTimer&&(clearTimeout(this.autoCloseTimer),this.autoCloseTimer=null),(0,isNil_1.default)(this.openFromHoverTimer)||(clearTimeout(this.openFromHoverTimer),this.openFromHoverTimer=null),(0,isNil_1.default)(this.controlTimer)||(clearTimeout(this.controlTimer),this.controlTimer=null),window.removeEventListener("scroll",this.handleWindowEvent,!0),window.removeEventListener("resize",this.handleWindowEvent)}handleWindowEvent(event){const{open}=this.state;if(!open)return;const eventTarget=event.target;1===eventTarget.nodeType&&!(0,isNil_1.default)(this.trayRef.current)&&this.trayRef.current.contains(eventTarget)||(this.setOpen(!1),this.focusOnAnchorContent())}handleButtonKeyPress(event){const{openOnClick=DEFAULTS.openOnClick}=this.props;openOnClick&&13===event.which&&event.preventDefault()}handleButtonClick(event){if(event.defaultPrevented)return;const{openOnClick=DEFAULTS.openOnClick,onAnchorClick}=this.props,{open}=this.state;(0,isNil_1.default)(onAnchorClick)||onAnchorClick(event),openOnClick&&this.setOpen(!open)}handleTrayClick(event){const{closeTrayOnClick}=this.props;closeTrayOnClick&&!event.defaultPrevented&&(this.setOpen(!1),this.focusOnAnchorContent())}handleKeyUp(){this.keyOnce=!1}handleKeyDown(event){if(this.keyOnce)return;if(this.keyOnce=!0,event.defaultPrevented)return;const{closeTrayOnEnter}=this.props,{open}=this.state;open?27===event.which||closeTrayOnEnter&&13===event.which?(this.setOpen(!1),this.focusOnAnchorContent()):40!==event.which&&38!==event.which||event.preventDefault():13!==event.which&&40!==event.which||(this.setOpen(!0),event.preventDefault())}handleButtonFocus(event){const{onFocus,openOnFocus}=this.props;if(openOnFocus&&this.setState({openFromFocus:!0}),(0,isNil_1.default)(onFocus))return;const{open}=this.state;open||(this.controlTimer=setTimeout((()=>{this.controlTimer=null,onFocus(event)}),1))}handleBlur(event){const{currentTarget,relatedTarget}=event;if(!(0,isNil_1.default)(this.trayRef.current)&&this.trayRef.current.contains(relatedTarget)||currentTarget.contains(relatedTarget))return;this.setOpen(!1);const{onBlur}=this.props;(0,isNil_1.default)(onBlur)||onBlur(event)}handleAnchorPointerEnter(){const{hoverOpenTime,openOnHover,disabled}=this.props;!disabled&&openOnHover&&(this.openFromHoverTimer=setTimeout((()=>{this.setState({openFromHover:!0}),this.openFromHoverTimer=null}),hoverOpenTime))}handleAnchorPointerLeave(){const{openFromHover}=this.state;(0,isNil_1.default)(this.openFromHoverTimer)||(clearTimeout(this.openFromHoverTimer),this.openFromHoverTimer=null),openFromHover&&this.setState({openFromHover:!1})}getRootNode(){return this.mainRef.current}getAnchor(){return(0,isNil_1.default)(this.anchorRef.current)?null:this.anchorRef.current.getBoundingElement()}setOpen(open){const{disabled,onOpen,onClose,autoCloseTime}=this.props;if(disabled)return;const{open:current}=this.state;current!==open&&(open?(0,isNil_1.default)(onOpen)||onOpen():(0,isNil_1.default)(onClose)||onClose(),(0,isNil_1.default)(autoCloseTime)||((0,isNil_1.default)(this.autoCloseTimer)||(clearTimeout(this.autoCloseTimer),this.autoCloseTimer=null),open&&(this.autoCloseTimer=setTimeout((()=>{this.setOpen(!1)}),autoCloseTime))),this.setState({open}))}focusOnAnchorContent(){const focus=(0,get_1.default)(this.anchorRef,["current","focus"]);(0,isNil_1.default)(focus)||focus()}focus(){const{disabled}=this.props;disabled||(((0,isNil_1.default)(this.anchorRef)||(0,isNil_1.default)(this.anchorRef.current))&&console.warn("Attempting to focus on an unmounted component"),this.focusOnAnchorContent())}isOpen(){const{open}=this.state;return open}close(focusOnAnchor){this.setOpen(!1),focusOnAnchor&&this.focusOnAnchorContent()}open(){this.setOpen(!0)}renderMainControl(){const{Anchor,anchorProps,openOnHover,onKeyDown}=this.props,{open}=this.state;if((0,isNil_1.default)(Anchor))throw new Error("Need Anchor");return react_1.default.createElement(Anchor,{anchorProps,open,bindingRef:this.anchorRef,bindingInterface:{onClick:this.handleButtonClick,onFocus:this.handleButtonFocus,onKeyPress:this.handleButtonKeyPress,onKeyDown,onPointerEnter:openOnHover?this.handleAnchorPointerEnter:void 0,onPointerLeave:openOnHover?this.handleAnchorPointerLeave:void 0,onPointerCancel:openOnHover?this.handleAnchorPointerLeave:void 0}})}render(){const{id,className,trayClassName,children,dropPositions,minTrayWidth,maxTrayWidth,maxTrayHeight,horizontallyCenter,dockRight,enableTail,onClick,keepLoaded}=this.props,{open,openFromHover,openFromFocus}=this.state;let tray=null;return(open||keepLoaded)&&(tray=react_1.default.createElement(drop_down_context_1.default,{value:{open}},children)),react_1.default.createElement("div",{ref:this.mainRef,id,className:(0,classnames_1.default)("ra-drop-down",className,{open}),onKeyUp:this.handleKeyUp,onKeyPress:this.handleButtonKeyPress,onKeyDown:this.handleKeyDown,onBlur:this.handleBlur,onClick},this.renderMainControl(),react_1.default.createElement(tray_1.default,{className:(0,classnames_1.default)("ra-drop-down-tray",trayClassName),ref:this.trayRef,open:open||openFromHover||openFromFocus,id:!(0,isNil_1.default)(id)&&id.length>0?`${id}-tray`:void 0,dropPositions,getAnchor:this.getAnchor,onClick:this.handleTrayClick,minWidth:minTrayWidth,maxWidth:maxTrayWidth,maxHeight:maxTrayHeight,horizontallyCenter,dockRight,enableTail},tray))}}DropDown.displayName="DropDown",DropDown.propTypes={id:prop_types_1.default.string,className:prop_types_1.default.string,trayClassName:prop_types_1.default.string,children:prop_types_1.default.oneOfType([prop_types_1.default.node,prop_types_1.default.arrayOf(prop_types_1.default.node)]),onBlur:prop_types_1.default.func,onFocus:prop_types_1.default.func,disabled:prop_types_1.default.bool,dropPositions:prop_types_1.default.arrayOf(dropPositionTypes),closeTrayOnClick:prop_types_1.default.bool,closeTrayOnEnter:prop_types_1.default.bool,minTrayWidth:prop_types_1.default.oneOfType([prop_types_1.default.number,prop_types_1.default.oneOf(["anchor"])]),maxTrayWidth:prop_types_1.default.oneOfType([prop_types_1.default.number,prop_types_1.default.oneOf(["anchor"])]),maxTrayHeight:prop_types_1.default.number,onOpen:prop_types_1.default.func,onClose:prop_types_1.default.func,onKeyDown:prop_types_1.default.func,Anchor:prop_types_1.default.elementType.isRequired,anchorProps:prop_types_1.default.object,openOnHover:prop_types_1.default.bool,hoverOpenTime:prop_types_1.default.number,autoCloseTime:prop_types_1.default.number,openOnFocus:prop_types_1.default.bool,onAnchorClick:prop_types_1.default.func,openOnClick:prop_types_1.default.bool,horizontallyCenter:prop_types_1.default.bool,dockRight:prop_types_1.default.bool,enableTail:prop_types_1.default.bool,onClick:prop_types_1.default.func,onOpened:prop_types_1.default.func,onClosed:prop_types_1.default.func,keepLoaded:prop_types_1.default.bool},DropDown.defaultProps={id:null,className:null,trayClassName:null,children:null,onBlur:noop_1.default,onFocus:noop_1.default,disabled:!1,dropPositions:["bottom","top","right","left"],closeTrayOnClick:!0,closeTrayOnEnter:!0,minTrayWidth:null,maxTrayWidth:null,maxTrayHeight:null,onOpen:null,onClose:null,onKeyDown:null,anchorProps:{},openOnHover:!1,hoverOpenTime:500,autoCloseTime:null,openOnFocus:!1,onAnchorClick:noop_1.default,openOnClick:!0,horizontallyCenter:!1,dockRight:!1,enableTail:!1,onClick:null,onOpened:null,onClosed:null,keepLoaded:!1},exports.default=DropDown,DropDown.__docgenInfo={description:"",methods:[{name:"handleWindowEvent",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handleButtonKeyPress",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handleButtonClick",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handleTrayClick",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handleKeyUp",docblock:null,modifiers:[],params:[],returns:null},{name:"handleKeyDown",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handleButtonFocus",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handleBlur",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handleAnchorPointerEnter",docblock:null,modifiers:[],params:[],returns:null},{name:"handleAnchorPointerLeave",docblock:null,modifiers:[],params:[],returns:null},{name:"getRootNode",docblock:null,modifiers:[],params:[],returns:null},{name:"getAnchor",docblock:null,modifiers:[],params:[],returns:null},{name:"setOpen",docblock:null,modifiers:[],params:[{name:"open",type:null}],returns:null},{name:"focusOnAnchorContent",docblock:null,modifiers:[],params:[],returns:null},{name:"focus",docblock:null,modifiers:[],params:[],returns:null},{name:"isOpen",docblock:null,modifiers:[],params:[],returns:null},{name:"close",docblock:null,modifiers:[],params:[{name:"focusOnAnchor",type:null}],returns:null},{name:"open",docblock:null,modifiers:[],params:[],returns:null},{name:"renderMainControl",docblock:null,modifiers:[],params:[],returns:null}],displayName:"DropDown",props:{id:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"custom",raw:"prop_types_1.default.string"},required:!1},className:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"custom",raw:"prop_types_1.default.string"},required:!1},trayClassName:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"custom",raw:"prop_types_1.default.string"},required:!1},children:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"custom",raw:"prop_types_1.default.oneOfType([\n    prop_types_1.default.node,\n    prop_types_1.default.arrayOf(prop_types_1.default.node),\n])"},required:!1},onBlur:{defaultValue:{value:"noop_1.default",computed:!0},description:"",type:{name:"custom",raw:"prop_types_1.default.func"},required:!1},onFocus:{defaultValue:{value:"noop_1.default",computed:!0},description:"",type:{name:"custom",raw:"prop_types_1.default.func"},required:!1},disabled:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"custom",raw:"prop_types_1.default.bool"},required:!1},dropPositions:{defaultValue:{value:"['bottom', 'top', 'right', 'left']",computed:!1},description:"",type:{name:"custom",raw:"prop_types_1.default.arrayOf(dropPositionTypes)"},required:!1},closeTrayOnClick:{defaultValue:{value:"true",computed:!1},description:"",type:{name:"custom",raw:"prop_types_1.default.bool"},required:!1},closeTrayOnEnter:{defaultValue:{value:"true",computed:!1},description:"",type:{name:"custom",raw:"prop_types_1.default.bool"},required:!1},minTrayWidth:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"custom",raw:"prop_types_1.default.oneOfType([\n    prop_types_1.default.number,\n    prop_types_1.default.oneOf(['anchor']),\n])"},required:!1},maxTrayWidth:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"custom",raw:"prop_types_1.default.oneOfType([\n    prop_types_1.default.number,\n    prop_types_1.default.oneOf(['anchor']),\n])"},required:!1},maxTrayHeight:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"custom",raw:"prop_types_1.default.number"},required:!1},onOpen:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"custom",raw:"prop_types_1.default.func"},required:!1},onClose:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"custom",raw:"prop_types_1.default.func"},required:!1},onKeyDown:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"custom",raw:"prop_types_1.default.func"},required:!1},anchorProps:{defaultValue:{value:"{}",computed:!1},description:"",type:{name:"custom",raw:"prop_types_1.default.object"},required:!1},openOnHover:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"custom",raw:"prop_types_1.default.bool"},required:!1},hoverOpenTime:{defaultValue:{value:"500",computed:!1},description:"",type:{name:"custom",raw:"prop_types_1.default.number"},required:!1},autoCloseTime:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"custom",raw:"prop_types_1.default.number"},required:!1},openOnFocus:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"custom",raw:"prop_types_1.default.bool"},required:!1},onAnchorClick:{defaultValue:{value:"noop_1.default",computed:!0},description:"",type:{name:"custom",raw:"prop_types_1.default.func"},required:!1},openOnClick:{defaultValue:{value:"true",computed:!1},description:"",type:{name:"custom",raw:"prop_types_1.default.bool"},required:!1},horizontallyCenter:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"custom",raw:"prop_types_1.default.bool"},required:!1},dockRight:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"custom",raw:"prop_types_1.default.bool"},required:!1},enableTail:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"custom",raw:"prop_types_1.default.bool"},required:!1},onClick:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"custom",raw:"prop_types_1.default.func"},required:!1},onOpened:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"custom",raw:"prop_types_1.default.func"},required:!1},onClosed:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"custom",raw:"prop_types_1.default.func"},required:!1},keepLoaded:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"custom",raw:"prop_types_1.default.bool"},required:!1},Anchor:{description:"",type:{name:"custom",raw:"prop_types_1.default.elementType.isRequired"},required:!1}}}},"../reactive/lib/components/controls/drop-down/index.js":function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.AnchorButton=void 0;const drop_down_1=__importDefault(__webpack_require__("../reactive/lib/components/controls/drop-down/drop-down.js")),anchor_button_1=__importDefault(__webpack_require__("../reactive/lib/components/controls/drop-down/anchors/anchor-button.js"));exports.AnchorButton=anchor_button_1.default,exports.default=drop_down_1.default}}]);