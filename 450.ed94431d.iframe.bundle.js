"use strict";(self.webpackChunk_reformjs_reactive_storybook=self.webpackChunk_reformjs_reactive_storybook||[]).push([[450],{"./src/common/options-data.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{MC:()=>abbreviated});var lodash_map__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/map.js"),lodash_map__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash_map__WEBPACK_IMPORTED_MODULE_0__),lodash_reduce__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/reduce.js"),lodash_reduce__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(lodash_reduce__WEBPACK_IMPORTED_MODULE_1__);const abbreviated=[{label:"Bear Claw",value:"bearClaw",selectedText:"BC"},{label:"Apple-Crumb",value:"appleCrumb",selectedText:"AC"},{label:"Jelly",value:"jelly",selectedText:"JL"},{label:"Powdered",value:"powdered",selectedText:"PD"},{label:"Glazed",value:"glazed",selectedText:"GL"},{label:"Cinnamon-Sugar",value:"cinnamonSugar",selectedText:"CS"},{label:"Blueberry",value:"blueberry",selectedText:"BB"},{label:"Chocolate Kreme",value:"chocolateKreme",selectedText:"CK"},{label:"Bavarian Kreme",value:"bavarianKreme",selectedText:"BV"},{label:"Boston Kreme",value:"bostonKreme",selectedText:"BK"},{label:"Old-Fashioned",value:"oldFashioned",selectedText:"OF"},{label:"Sour Cream",value:"sourCream",selectedText:"SC"},{label:"Cruller",value:"cruller",selectedText:"CR"},{label:"Chocolate Glazed",value:"chocolateGlazed",selectedText:"CG"},{label:"Strawberry.Frosted.Creme.Filled.with.Extra.Sprinkles",value:"strawberryFrosted",selectedText:"CG"}];lodash_map__WEBPACK_IMPORTED_MODULE_0___default()(abbreviated,(option=>{const{selectedText,...rest}=option;return rest})),lodash_map__WEBPACK_IMPORTED_MODULE_0___default()(abbreviated,(option=>{const{label}=option;return label})),lodash_reduce__WEBPACK_IMPORTED_MODULE_1___default()(abbreviated,((acc,option)=>(acc[option.value]=option,acc)),{})},"../reactive/lib/common/build-id.js":function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const isNil_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isNil.js"));exports.default=function buildId(id,additional){return(0,isNil_1.default)(id)||id.length<=0?null:`${id}-${additional}`}},"../reactive/lib/common/prevent-default.js":(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function preventDefault(event){event.preventDefault()}},"../reactive/lib/components/controls/drop-down/drop-down-list-item.js":function(__unused_webpack_module,exports,__webpack_require__){var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);desc&&!("get"in desc?!m.__esModule:desc.writable||desc.configurable)||(desc={enumerable:!0,get:function(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result},__rest=this&&this.__rest||function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importStar(__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js")),prop_types_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/prop-types@15.8.1/node_modules/prop-types/index.js")),classnames_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/classnames@2.3.2/node_modules/classnames/index.js")),isNil_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isNil.js")),color_list_1=__webpack_require__("../reactive/lib/common/color-list.js");function DropDownListItem(props){const{id,color,className,selected,targeted,children,"aria-label":ariaLabel,borderBottom,borderTop,onClick,preventCloseOnClick}=props,rest=__rest(props,["id","color","className","selected","targeted","children","aria-label","borderBottom","borderTop","onClick","preventCloseOnClick"]),itemRef=(0,react_1.useRef)(),handleClick=(0,react_1.useCallback)((event=>{preventCloseOnClick&&event.preventDefault(),(0,isNil_1.default)(onClick)||onClick(event)}),[preventCloseOnClick,onClick]),ariaCurrent=targeted?ariaLabel:null;let accessibilityLabel=ariaLabel;selected&&(accessibilityLabel=(0,isNil_1.default)(accessibilityLabel)?"Selected":`${accessibilityLabel}, Selected`);const colorClasses=(0,color_list_1.getSchemeColorClasses)({color,design:"opaque"});return react_1.default.createElement("li",Object.assign({},rest,{ref:itemRef,id,className:(0,classnames_1.default)("ra-dd-list-item",className,colorClasses,{selected,targeted,"border-bottom":borderBottom,"border-top":borderTop}),role:"option","aria-selected":selected||!1,"aria-current":ariaCurrent,"aria-label":accessibilityLabel,onClick:handleClick}),children)}DropDownListItem.propTypes={id:prop_types_1.default.string,color:color_list_1.schemeColorPropType,className:prop_types_1.default.string,selected:prop_types_1.default.bool,targeted:prop_types_1.default.bool,children:prop_types_1.default.oneOfType([prop_types_1.default.node,prop_types_1.default.arrayOf(prop_types_1.default.node)]),"aria-label":prop_types_1.default.string,borderBottom:prop_types_1.default.bool,borderTop:prop_types_1.default.bool,onClick:prop_types_1.default.func,preventCloseOnClick:prop_types_1.default.bool},DropDownListItem.defaultProps={id:null,className:null,color:null,children:null,"aria-label":null,selected:!1,targeted:!1,borderBottom:!1,borderTop:!1,onClick:null,preventCloseOnClick:!1},exports.default=DropDownListItem},"../reactive/lib/components/controls/drop-down/drop-down-list.js":function(__unused_webpack_module,exports,__webpack_require__){var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);desc&&!("get"in desc?!m.__esModule:desc.writable||desc.configurable)||(desc={enumerable:!0,get:function(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importStar(__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js")),classnames_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/classnames@2.3.2/node_modules/classnames/index.js")),isNil_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isNil.js")),scroll_into_view_if_needed_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/scroll-into-view-if-needed@3.0.10/node_modules/scroll-into-view-if-needed/dist/index.cjs")),prop_types_1=__importDefault(__webpack_require__("../reactive/lib/common/prop-types.js"));class DropDownList extends react_1.Component{constructor(props){super(props),this.listRef=(0,react_1.createRef)(),this.handleWheel=this.handleWheel.bind(this)}componentDidMount(){(0,isNil_1.default)(this.listRef.current)||this.listRef.current.addEventListener("wheel",this.handleWheel,{passive:!1,capture:!1})}componentWillUnmount(){(0,isNil_1.default)(this.listRef.current)||this.listRef.current.removeEventListener("wheel",this.handleWheel)}handleWheel(event){const{deltaY,deltaX}=event;if((0,isNil_1.default)(this.listRef.current))return;const{scrollTop,scrollLeft,scrollHeight,scrollWidth,clientHeight,clientWidth}=this.listRef.current;event.stopPropagation();let stop=!1;deltaY<0?stop=scrollTop<=0:deltaY>0&&(stop=scrollTop+clientHeight>=scrollHeight),deltaX<0?stop=scrollLeft<=0:deltaX>0&&(stop=scrollLeft+clientWidth>=scrollWidth),stop&&event.preventDefault()}getRootNode(){return this.listRef.current}scrollToIndex(index){(0,isNil_1.default)(this.listRef.current)||function scrollTo(listElement,targetIndex){const optionElement=listElement.childNodes[targetIndex];(0,isNil_1.default)(optionElement)||(0,scroll_into_view_if_needed_1.default)(optionElement,{scrollMode:"always",block:"center",inline:"center",boundary:listElement})}(this.listRef.current,index)}render(){const{id,className,children,size,"aria-labelledby":ariaLabeledBy}=this.props,sizeClass=(0,isNil_1.default)(size)?"size-md":`size-${size}`;return react_1.default.createElement("ol",{ref:this.listRef,id,className:(0,classnames_1.default)("ra-dd-list",className,sizeClass),role:"listbox","aria-labelledby":ariaLabeledBy},children)}}DropDownList.displayName="DropDownList",DropDownList.propTypes={id:prop_types_1.default.string,className:prop_types_1.default.string,children:prop_types_1.default.children,size:prop_types_1.default.string,"aria-labelledby":prop_types_1.default.string},DropDownList.defaultProps={id:null,className:null,children:null,size:null,"aria-labelledby":null},exports.default=DropDownList,DropDownList.__docgenInfo={description:"This component is used within the Tray component. It is normally used within the DropDown component.",methods:[{name:"handleWheel",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"getRootNode",docblock:null,modifiers:[],params:[],returns:null},{name:"scrollToIndex",docblock:null,modifiers:[],params:[{name:"index",type:null}],returns:null}],displayName:"DropDownList",props:{id:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"custom",raw:"prop_types_1.default.string"},required:!1},className:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"custom",raw:"prop_types_1.default.string"},required:!1},children:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"custom",raw:"prop_types_1.default.children"},required:!1},size:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"custom",raw:"prop_types_1.default.string"},required:!1},"aria-labelledby":{defaultValue:{value:"null",computed:!1},description:"",type:{name:"custom",raw:"prop_types_1.default.string"},required:!1}}}},"../reactive/lib/components/controls/drop-down/list-item-button.js":function(__unused_webpack_module,exports,__webpack_require__){var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);desc&&!("get"in desc?!m.__esModule:desc.writable||desc.configurable)||(desc={enumerable:!0,get:function(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result},__rest=this&&this.__rest||function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importStar(__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js")),prop_types_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/prop-types@15.8.1/node_modules/prop-types/index.js")),classnames_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/classnames@2.3.2/node_modules/classnames/index.js")),isNil_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isNil.js")),drop_down_context_1=__webpack_require__("../reactive/lib/components/controls/drop-down/drop-down-context.js"),list_item_content_1=__importDefault(__webpack_require__("../reactive/lib/components/controls/drop-down/list-item-content.js"));class ListItemButton extends react_1.PureComponent{constructor(props){super(props),this.buttonRef=(0,react_1.createRef)(),this.handleKeyDown=this.handleKeyDown.bind(this)}handleKeyDown(event){13===event.which&&this.handleClick(event)}getRootNode(){return this.buttonRef.current}render(){const _a=this.props,{id,className,"aria-label":ariaLabel,tabIndex,children,disabled,dropDownContext:{open}}=_a,rest=__rest(_a,["id","className","aria-label","tabIndex","children","disabled","dropDownContext"]);return react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement("button",Object.assign({},rest,{id:(0,isNil_1.default)(id)?null:`${id}-button`,className:(0,classnames_1.default)("ra-dd-list-item-control","ra-dd-list-item-button",className),ref:this.buttonRef,type:"button",onKeyDown:this.handleKeyDown,"aria-label":ariaLabel,tabIndex:open?tabIndex:-1,disabled}),ariaLabel),react_1.default.createElement(list_item_content_1.default,null,children))}}ListItemButton.displayName="ListItemButton",ListItemButton.propTypes={id:prop_types_1.default.string,className:prop_types_1.default.string,children:prop_types_1.default.oneOfType([prop_types_1.default.node,prop_types_1.default.arrayOf(prop_types_1.default.node)]),"aria-label":prop_types_1.default.string,tabIndex:prop_types_1.default.string,disabled:prop_types_1.default.bool,dropDownContext:prop_types_1.default.shape({open:prop_types_1.default.bool.isRequired}).isRequired},ListItemButton.defaultProps={id:null,className:null,children:null,"aria-label":null,tabIndex:null,disabled:!1},exports.default=(0,drop_down_context_1.ApplyConsumer)(ListItemButton),ListItemButton.__docgenInfo={description:"A Button component to be used inside a DropDownListItem component.",methods:[{name:"handleKeyDown",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"getRootNode",docblock:null,modifiers:[],params:[],returns:null}],displayName:"ListItemButton",props:{id:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"custom",raw:"prop_types_1.default.string"},required:!1},className:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"custom",raw:"prop_types_1.default.string"},required:!1},children:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"custom",raw:"prop_types_1.default.oneOfType([\n    prop_types_1.default.node,\n    prop_types_1.default.arrayOf(prop_types_1.default.node),\n])"},required:!1},"aria-label":{defaultValue:{value:"null",computed:!1},description:"",type:{name:"custom",raw:"prop_types_1.default.string"},required:!1},tabIndex:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"custom",raw:"prop_types_1.default.string"},required:!1},disabled:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"custom",raw:"prop_types_1.default.bool"},required:!1},dropDownContext:{description:"",type:{name:"custom",raw:"prop_types_1.default.shape({\n    open: prop_types_1.default.bool.isRequired,\n}).isRequired"},required:!1}}}},"../reactive/lib/components/controls/drop-down/list-item-content.js":function(__unused_webpack_module,exports,__webpack_require__){var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);desc&&!("get"in desc?!m.__esModule:desc.writable||desc.configurable)||(desc={enumerable:!0,get:function(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importStar(__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js")),prop_types_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/prop-types@15.8.1/node_modules/prop-types/index.js")),classnames_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/classnames@2.3.2/node_modules/classnames/index.js"));class ListItemContent extends react_1.PureComponent{getRootNode(){return this.buttonRef.current}render(){const{id,className,children}=this.props;return react_1.default.createElement("span",{id,className:(0,classnames_1.default)("ra-dd-list-item-content",className)},children)}}ListItemContent.displayName="ListItemContent",ListItemContent.propTypes={id:prop_types_1.default.string,className:prop_types_1.default.string,children:prop_types_1.default.oneOfType([prop_types_1.default.node,prop_types_1.default.arrayOf(prop_types_1.default.node)])},ListItemContent.defaultProps={id:null,className:null,children:null},exports.default=ListItemContent,ListItemContent.__docgenInfo={description:"",methods:[{name:"getRootNode",docblock:null,modifiers:[],params:[],returns:null}],displayName:"ListItemContent",props:{id:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"custom",raw:"prop_types_1.default.string"},required:!1},className:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"custom",raw:"prop_types_1.default.string"},required:!1},children:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"custom",raw:"prop_types_1.default.oneOfType([\n    prop_types_1.default.node,\n    prop_types_1.default.arrayOf(prop_types_1.default.node),\n])"},required:!1}}}},"../reactive/lib/components/display/spinner/index.js":function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const spinner_1=__importDefault(__webpack_require__("../reactive/lib/components/display/spinner/spinner.js"));exports.default=spinner_1.default},"../reactive/lib/components/display/spinner/spinner.js":function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js")),prop_types_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/prop-types@15.8.1/node_modules/prop-types/index.js")),classnames_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/classnames@2.3.2/node_modules/classnames/index.js")),isNil_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isNil.js")),color_list_1=__webpack_require__("../reactive/lib/common/color-list.js");function Spinner(props){const{id,className,size,color}=props,sizeClass=(0,isNil_1.default)(size)?"size-md":`size-${size}`;return react_1.default.createElement("span",{id,className:(0,classnames_1.default)("ra-spinner",`color-${null===color?"blue":color}`,sizeClass,className)})}Spinner.propTypes={id:prop_types_1.default.string,className:prop_types_1.default.string,size:prop_types_1.default.oneOf(["xs","sm","md","lg","xl"]),color:prop_types_1.default.oneOf(color_list_1.paletteColorOrder)},Spinner.defaultProps={id:null,className:null,size:"md",color:"blue"},exports.default=Spinner},"../reactive/lib/components/inputs/base-components/select/index.js":function(__unused_webpack_module,exports,__webpack_require__){var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);desc&&!("get"in desc?!m.__esModule:desc.writable||desc.configurable)||(desc={enumerable:!0,get:function(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result};Object.defineProperty(exports,"__esModule",{value:!0}),exports.defaultProps=exports.propTypes=void 0;const select_1=__importStar(__webpack_require__("../reactive/lib/components/inputs/base-components/select/select.js"));Object.defineProperty(exports,"propTypes",{enumerable:!0,get:function(){return select_1.propTypes}}),Object.defineProperty(exports,"defaultProps",{enumerable:!0,get:function(){return select_1.defaultProps}}),exports.default=select_1.default},"../reactive/lib/components/inputs/base-components/select/select-option.js":function(__unused_webpack_module,exports,__webpack_require__){var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);desc&&!("get"in desc?!m.__esModule:desc.writable||desc.configurable)||(desc={enumerable:!0,get:function(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importStar(__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js")),prop_types_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/prop-types@15.8.1/node_modules/prop-types/index.js")),classnames_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/classnames@2.3.2/node_modules/classnames/index.js")),drop_down_list_item_1=__importDefault(__webpack_require__("../reactive/lib/components/controls/drop-down/drop-down-list-item.js")),list_item_button_1=__importDefault(__webpack_require__("../reactive/lib/components/controls/drop-down/list-item-button.js")),color_list_1=__webpack_require__("../reactive/lib/common/color-list.js");function SelectOption(props){const{id,targeted,selected,borderBottom,color,"aria-label":ariaLabel,children,onClick,optionValue,disabled}=props,handleOnClick=(0,react_1.useCallback)((()=>{onClick(optionValue)}),[onClick,optionValue]);return react_1.default.createElement(drop_down_list_item_1.default,{id,className:(0,classnames_1.default)({disabled}),targeted,borderBottom,color,"aria-label":ariaLabel,selected,disabled},react_1.default.createElement(list_item_button_1.default,{onClick:handleOnClick,tabIndex:"-1",disabled},children))}SelectOption.propTypes={id:prop_types_1.default.string,targeted:prop_types_1.default.bool,selected:prop_types_1.default.bool,borderBottom:prop_types_1.default.bool,children:prop_types_1.default.node,onClick:prop_types_1.default.func,optionValue:prop_types_1.default.oneOfType([prop_types_1.default.string,prop_types_1.default.number]).isRequired,color:color_list_1.schemeColorPropType,"aria-label":prop_types_1.default.string,disabled:prop_types_1.default.bool},SelectOption.defaultProps={id:null,targeted:!1,selected:!1,borderBottom:!1,disabled:!1,children:null,onClick:null,color:null,"aria-label":null},exports.default=(0,react_1.memo)(SelectOption)},"../reactive/lib/components/inputs/base-components/select/select-text.js":function(__unused_webpack_module,exports,__webpack_require__){var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);desc&&!("get"in desc?!m.__esModule:desc.writable||desc.configurable)||(desc={enumerable:!0,get:function(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importStar(__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js")),prop_types_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/prop-types@15.8.1/node_modules/prop-types/index.js")),drop_down_list_item_1=__importDefault(__webpack_require__("../reactive/lib/components/controls/drop-down/drop-down-list-item.js")),list_item_content_1=__importDefault(__webpack_require__("../reactive/lib/components/controls/drop-down/list-item-content.js")),build_id_1=__importDefault(__webpack_require__("../reactive/lib/common/build-id.js"));function SelectText(props){const{id,children}=props;return react_1.default.createElement(drop_down_list_item_1.default,{id:(0,build_id_1.default)(id,"$__custom__$")},react_1.default.createElement(list_item_content_1.default,{className:"no-options"},children))}SelectText.propTypes={id:prop_types_1.default.string,children:prop_types_1.default.string},SelectText.defaultProps={id:null,children:null},exports.default=(0,react_1.memo)(SelectText)},"../reactive/lib/components/inputs/base-components/select/select.js":function(__unused_webpack_module,exports,__webpack_require__){var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);desc&&!("get"in desc?!m.__esModule:desc.writable||desc.configurable)||(desc={enumerable:!0,get:function(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result},__rest=this&&this.__rest||function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.defaultProps=exports.propTypes=void 0;const react_1=__importStar(__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js")),prop_types_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/prop-types@15.8.1/node_modules/prop-types/index.js")),classnames_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/classnames@2.3.2/node_modules/classnames/index.js")),isNil_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isNil.js")),get_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/get.js")),toLower_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/toLower.js")),isString_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isString.js")),isFunction_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isFunction.js")),isNumber_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isNumber.js")),reduce_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/reduce.js")),map_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/map.js")),findIndex_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/findIndex.js")),trim_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/trim.js")),forEach_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/forEach.js")),index_1=__importDefault(__webpack_require__("../reactive/lib/hooks/use-collection-context/index.js")),index_2=__importDefault(__webpack_require__("../reactive/lib/components/controls/drop-down/index.js")),drop_down_list_1=__importDefault(__webpack_require__("../reactive/lib/components/controls/drop-down/drop-down-list.js")),index_3=__importDefault(__webpack_require__("../reactive/lib/components/display/spinner/index.js")),build_id_1=__importDefault(__webpack_require__("../reactive/lib/common/build-id.js")),input_label_1=__importDefault(__webpack_require__("../reactive/lib/components/inputs/new-base/input-label.js")),prevent_default_1=__importDefault(__webpack_require__("../reactive/lib/common/prevent-default.js")),select_option_1=__importDefault(__webpack_require__("../reactive/lib/components/inputs/base-components/select/select-option.js")),select_text_1=__importDefault(__webpack_require__("../reactive/lib/components/inputs/base-components/select/select-text.js"));function getOptionText(option,optionLabelPath){let text=option;if(!(0,isString_1.default)(option)&&!(0,isNumber_1.default)(option)){if((0,isNil_1.default)(optionLabelPath))throw new Error("optionLabelPath is required when not using strings for options.");if((0,isString_1.default)(optionLabelPath)){if(optionLabelPath.length<=0)throw new Error("optionLabelPath cannot be empty.");text=(0,get_1.default)(option,optionLabelPath)}}if((0,isFunction_1.default)(optionLabelPath)&&(text=optionLabelPath(option)),(0,isString_1.default)(text)&&text.length>0||(0,isNumber_1.default)(text))return text;throw new Error("Option label must be an non empty string or number")}function buildFinalOptions(items,filterValue,customValueSetting,filterMatchesValue){let filterMatched=!1,checkValue=filterValue,filterCheck=()=>!1;"sensitive"===customValueSetting?filterCheck=item=>item.getValue("label")===checkValue:"insensitive"===customValueSetting&&(checkValue=(0,toLower_1.default)(filterValue),filterCheck=item=>(0,toLower_1.default)(item.getValue("label"))===checkValue);const filteredOptions=(0,reduce_1.default)(items,((acc,item)=>{const priority=item.getFilterPriority();return filterMatched=filterMatched||filterCheck(item),priority>0&&acc.push(item),acc}),[]);let customOption=null;return(0,isNil_1.default)(customValueSetting)||filterMatched||(0,isNil_1.default)(filterValue)||!(filterValue.length>0)||filterMatchesValue||(customOption=filterValue),{customOption,filteredOptions}}function buildAnchorProps({anchorProps,id,color,value,title,describedBy,labelledBy,disabled,size,placeholder,ariaLabel,listBoxId}){const props=Object.assign(Object.assign({},anchorProps),{id,value,title,"aria-describedby":describedBy,"aria-labelledby":labelledBy,disabled,size,placeholder,"aria-label":ariaLabel,listBoxId});return(0,isNil_1.default)(color)||(props.color=color),props}function getSelectedText(nextValue,selectedLabelPath,getOptionById){let selectedText="";const option=getOptionById(nextValue);if((0,isNil_1.default)(option)||((0,isNil_1.default)(selectedLabelPath)?selectedText=option.getValue("label"):(0,isString_1.default)(selectedLabelPath)&&selectedLabelPath.length>0&&(selectedText=(0,get_1.default)(option.getValue("value"),selectedLabelPath))),selectedText.length<=0)if((0,isFunction_1.default)(selectedLabelPath)){if(selectedText=selectedLabelPath(nextValue),!(0,isString_1.default)(selectedText)||selectedText.length<=0)throw new Error("selectedText must return a string.")}else selectedText=`${nextValue}`;const{color:selectedColor}=option?option.getValue("value"):{};return{selectedText,selectedColor}}function buildValueMeta(value,filterTarget,selectedLabelPath,getOptionById,enableMultiSelect,customValueSetting){const filterCheck=function getValueFilterCheck(customValueSetting,filterTarget){if("sensitive"===customValueSetting)return value=>value===filterTarget;if("insensitive"===customValueSetting){const lowerFilter=(0,toLower_1.default)(filterTarget);return value=>(0,toLower_1.default)(value)===lowerFilter}return()=>!1}(customValueSetting,filterTarget);let filterMatchesValue=!1,selectedText=null,selectedColor=null;const selectedLookup={};return(0,isNil_1.default)(value)||(enableMultiSelect?selectedText=(0,map_1.default)(value,(selectedValue=>{filterMatchesValue=filterMatchesValue||filterCheck(selectedValue);const{selectedText:selectedTextItem}=getSelectedText(selectedValue,selectedLabelPath,getOptionById);return selectedLookup[selectedValue]=!0,selectedTextItem})):(filterMatchesValue=filterCheck(value),({selectedText,selectedColor}=getSelectedText(value,selectedLabelPath,getOptionById)),selectedLookup[value]=!0)),{filterMatchesValue,selectedText,selectedColor,selectedLookup}}function determineProperTargetIndex(currentTargetIndex,filteredOptions,customOption){if(filteredOptions.length<=0)return(0,isNil_1.default)(customOption)?null:0;if((0,isNil_1.default)(currentTargetIndex))return 0;if((0,isNil_1.default)(customOption)){if(currentTargetIndex>=filteredOptions.length)return filteredOptions.length-1}else if(currentTargetIndex>=filteredOptions.length+1)return filteredOptions.length-1;return currentTargetIndex}function renderOptions(finalId,listBoxId,labelledBy,customOption,items,filterTarget,noOptionsMessage,emptyFilterMessage,targetIndex,optionSeparator,size,enableMultiSelect,handleSelect,dropDownListRef,selectedLookup,isFiltering,isFilteringMessage){let listItems=null,targetedElementId=null;if(isFiltering)listItems=function renderFiltering(isFilteringMessage){return react_1.default.createElement(select_text_1.default,null,react_1.default.createElement(index_3.default,{size:"xs"}),isFilteringMessage)}(isFilteringMessage);else if((0,isNil_1.default)(customOption)&&items.length<=0){const message=!(0,isNil_1.default)(filterTarget)&&filterTarget.length>0?noOptionsMessage:emptyFilterMessage;listItems=react_1.default.createElement(select_text_1.default,null,message)}else{let customValueElement=null;if(!(0,isNil_1.default)(customOption)){const customId=(0,build_id_1.default)(finalId,"$__custom__$"),customIsTarget=0===targetIndex;customIsTarget&&(targetedElementId=customId),customValueElement=react_1.default.createElement(select_option_1.default,{id:customId,targeted:customIsTarget,borderBottom:optionSeparator&&items.length>0,onClick:handleSelect,optionValue:null},customOption)}listItems=react_1.default.createElement(react_1.default.Fragment,null,customValueElement,(0,map_1.default)(items,((item,idx)=>{const data=item.getValue(),{value:{color}}=data,itemId=item.getId(),selected=!0===selectedLookup[item.getId()],shiftIndex=(0,isNil_1.default)(customValueElement)?idx:idx+1,optionId=(0,build_id_1.default)(finalId,itemId),optionIsTarget=shiftIndex===targetIndex;return optionIsTarget&&(targetedElementId=optionId),react_1.default.createElement(select_option_1.default,{key:itemId,color,id:optionId,"aria-label":data["aria-label"],selected,targeted:optionIsTarget,borderBottom:optionSeparator&&idx+1<items.length,onClick:handleSelect,optionValue:itemId},data.label)})))}return{options:react_1.default.createElement(drop_down_list_1.default,{ref:dropDownListRef,id:listBoxId,size,"aria-labelledby":labelledBy,"aria-multiselectable":enableMultiSelect},listItems),targetedElementId}}function buildContextOptions(enableFiltering,enableSorting,excludeValues,filterTarget,optionValuePath,optionLabelPath){const sortSettings={rules:[]},filterSettings={rules:{},values:{}};return(0,isNil_1.default)(excludeValues)||(filterSettings.rules.valueFilter="value",filterSettings.values.valueFilter=excludeValues),enableFiltering&&(sortSettings.rules.push({type:"filter",order:"desc"}),filterSettings.rules.labelFilter="label",filterSettings.values.labelFilter=filterTarget),enableSorting&&sortSettings.rules.push("label"),{sortSettings,filterSettings,getId:item=>function getId(option,optionValuePath){if((0,isNil_1.default)(option))return null;if((0,isString_1.default)(option)||(0,isNumber_1.default)(option))return option;if((0,isNil_1.default)(optionValuePath))throw new Error("optionValuePath is required when not using strings for values.");let key=null;if((0,isString_1.default)(optionValuePath)){if(optionValuePath.length<=0)throw new Error("optionValuePath cannot be empty.");key=(0,get_1.default)(option,optionValuePath)}else key=optionValuePath(option);if((0,isString_1.default)(key)||(0,isNumber_1.default)(key))return key;throw new Error("Value must be a string or number")}(item,optionValuePath),beforeInsert:option=>function beforeInsertOption(option,optionLabelPath){return{value:option,label:getOptionText(option,optionLabelPath)}}(option,optionLabelPath)}}function useMemoDeps(cb,deps){return(0,react_1.useMemo)((()=>cb(...deps)),deps)}const Select=(0,react_1.forwardRef)(((props,ref)=>{const{className,label,"aria-label":ariaLabel,messages,failure,hidden,title,disabled,dockRight,minDrawerWidth,placeholder,Anchor,enableMultiSelect,anchorProps,onFocus,onBlur,id,"aria-labelledby":ariaLabelledby,"aria-describedby":ariaDescribedby,size,enableFiltering,value,onSelect,enableCustomValues,selectedLabelPath,options,onFilter,minFilterChar,onOpen,onClose,noOptionsMessage,optionSeparator,emptyFilterMessage,enableSorting,excludeValues,optionValuePath,optionLabelPath,isFiltering,isFilteringMessage}=props,dropDownRef=(0,react_1.useRef)(),dropDownListRef=(0,react_1.useRef)(),filterInputRef=(0,react_1.useRef)(),[filterValue,setFilterValue]=(0,react_1.useState)(""),[filterTarget,setFilterTarget]=(0,react_1.useState)(""),[targetIndexState,setTargetIndex]=(0,react_1.useState)(null),contextOptions=useMemoDeps(buildContextOptions,[enableFiltering,enableSorting,excludeValues,filterTarget,optionValuePath,optionLabelPath]),[items,optionsControls]=(0,index_1.default)(options,contextOptions),{getById:getOptionById}=optionsControls,customValueSetting=function getCustomValueSetting(enableCustomValues){if(!(0,isNil_1.default)(enableCustomValues)){if(!0===enableCustomValues)return"sensitive";if(!1!==enableCustomValues)return enableCustomValues}return null}(enableCustomValues),{filterMatchesValue,selectedText,selectedColor,selectedLookup}=useMemoDeps(buildValueMeta,[value,filterTarget,selectedLabelPath,getOptionById,enableMultiSelect,customValueSetting]),{filteredOptions,customOption}=useMemoDeps(buildFinalOptions,[items,filterTarget,customValueSetting,filterMatchesValue]),targetIndex=useMemoDeps(determineProperTargetIndex,[targetIndexState,filteredOptions,customOption]),selectValue=(0,react_1.useCallback)((idToSelect=>{if((0,isNil_1.default)(onSelect))return;let selectedId=idToSelect;if((0,isNil_1.default)(idToSelect)){if((0,isNil_1.default)(customOption))return;selectedId=customOption}const newValue=enableMultiSelect?function buildMultiValueByKey(existingValue,selectedId){let newValue=[],didRemove=!1;return(0,forEach_1.default)(existingValue,(item=>{item!==selectedId?newValue.push(item):didRemove=!0})),didRemove||newValue.push(selectedId),newValue.length<=0&&(newValue=null),newValue}(value,selectedId):selectedId;enableMultiSelect&&enableFiltering&&filterInputRef&&filterInputRef.current&&filterInputRef.current.focus(),onSelect(newValue)}),[value,onSelect,customOption,enableFiltering,enableMultiSelect]),dropdownNavHandler=(0,react_1.useCallback)((event=>function navHandler(event,dropDownRef,targetIndex,customOption,selectValue,items,enableMultiSelect,dropDownListRef,setTargetIndex){if(27===event.which)return dropDownRef.current.setOpen(!1),!0;if(13===event.which){if(!(0,isNil_1.default)(targetIndex)){let finalTargetIndex=targetIndex;if(!(0,isNil_1.default)(customOption)){if(0===targetIndex)return selectValue(null),!0;finalTargetIndex=targetIndex-1}selectValue(items[finalTargetIndex].getId())}return((0,isNil_1.default)(targetIndex)||enableMultiSelect)&&event.preventDefault(),!0}if(40===event.which||38===event.which){const maxIndex=(0,isNil_1.default)(customOption)?items.length-1:items.length;if(maxIndex<=0)return!1;let newIndex=targetIndex;return 40===event.which?(0,isNil_1.default)(newIndex)||newIndex>=maxIndex?newIndex=0:newIndex+=1:38===event.which&&((0,isNil_1.default)(newIndex)||newIndex<=0?newIndex=maxIndex:newIndex-=1),dropDownListRef.current.scrollToIndex(newIndex),setTargetIndex(newIndex),event.preventDefault(),!0}return!1}(event,dropDownRef,targetIndex,customOption,selectValue,filteredOptions,enableMultiSelect,dropDownListRef,setTargetIndex)),[targetIndex,customOption,selectValue,filteredOptions,enableMultiSelect]),handleDropDownKeyDown=(0,react_1.useCallback)((event=>{const isOpen=dropDownRef.current.isOpen();!enableFiltering&&isOpen&&dropdownNavHandler(event),isOpen||40!==event.which&&38!==event.which&&(9===event.which||16===event.which||27===event.which||20===event.which||17===event.which||18===event.which||event.metaKey||13===event.which||8!==event.which&&46!==event.which&&enableFiltering&&filterInputRef&&filterInputRef.current&&(dropDownRef.current.setOpen(!0),filterInputRef.current.focus()))}),[enableFiltering,dropdownNavHandler]),changeFilter=(0,react_1.useCallback)((newFilterValue=>{const nextFilterValue=(0,isNil_1.default)(newFilterValue)?"":(0,trim_1.default)(newFilterValue);setFilterValue(nextFilterValue);const filterChar=minFilterChar>0?minFilterChar:1,nextFilterTarget=nextFilterValue.length>=filterChar?nextFilterValue:"";nextFilterTarget!==filterTarget&&(setFilterTarget(nextFilterTarget),setTargetIndex(0),(0,isNil_1.default)(onFilter)||onFilter(nextFilterTarget))}),[minFilterChar,onFilter,filterTarget]),handleFilterChange=(0,react_1.useCallback)((event=>{changeFilter(event.target.value)}),[changeFilter]),handleOpen=(0,react_1.useCallback)((()=>{(0,isNil_1.default)(onOpen)||onOpen();const newTargetIndex=(0,findIndex_1.default)(filteredOptions,(item=>selectedLookup[item.getId()]));setTargetIndex(newTargetIndex>=0?newTargetIndex:0),setTimeout((()=>{enableFiltering&&filterInputRef&&filterInputRef.current&&filterInputRef.current.focus(),dropDownListRef.current.scrollToIndex(newTargetIndex)}),1)}),[onOpen,enableFiltering,selectedLookup,filteredOptions]),handleClose=(0,react_1.useCallback)((()=>{enableFiltering&&changeFilter(""),(0,isNil_1.default)(onClose)||onClose()}),[enableFiltering,onClose,changeFilter]);return(0,react_1.useImperativeHandle)(ref,(()=>({focus:()=>dropDownRef.current.focus()}))),react_1.default.createElement(input_label_1.default,{className:(0,classnames_1.default)("ra-drop-down-input",className),id,label,messages,failure,"aria-labelledby":ariaLabelledby,"aria-describedby":ariaDescribedby,hidden,disabled,size},(({describedBy,labelledBy,inputId,finalId})=>{const listBoxId=(0,build_id_1.default)(finalId,"options-list"),{options:renderedOptions,targetedElementId}=renderOptions(finalId,listBoxId,labelledBy,customOption,filteredOptions,filterTarget,noOptionsMessage,emptyFilterMessage,targetIndex,optionSeparator,size,enableMultiSelect,selectValue,dropDownListRef,selectedLookup,isFiltering,isFilteringMessage);return react_1.default.createElement(index_2.default,{ref:dropDownRef,id:`${finalId}-drop-down`,className:(0,classnames_1.default)("ra-select"),trayClassName:(0,classnames_1.default)("ra-select-tray",`size-${size}`),disabled,minDrawerWidth,onFocus,onBlur,maxTrayHeight:216,onKeyDown:handleDropDownKeyDown,onOpen:handleOpen,onClose:handleClose,closeTrayOnClick:!enableMultiSelect,Anchor,anchorProps:buildAnchorProps({id:inputId,color:selectedColor,value:selectedText,title,describedBy,labelledBy,disabled,size,placeholder,ariaLabel,anchorProps,listBoxId}),dockRight},enableFiltering?react_1.default.createElement("input",{ref:filterInputRef,tabIndex:"-1",className:"ra-dd-list-filter",value:filterValue,onChange:handleFilterChange,onKeyDown:dropdownNavHandler,onClick:prevent_default_1.default,size:"1","aria-label":"List Filter","aria-activedescendant":targetedElementId}):null,renderedOptions)}))})),valueType=prop_types_1.default.oneOfType([prop_types_1.default.string,prop_types_1.default.number,prop_types_1.default.arrayOf(prop_types_1.default.oneOfType([prop_types_1.default.string,prop_types_1.default.number]))]);Select.propTypes={value:valueType,Anchor:prop_types_1.default.elementType.isRequired,enableFiltering:prop_types_1.default.oneOfType([prop_types_1.default.bool,prop_types_1.default.oneOf(["internal","external"])]),enableMultiSelect:prop_types_1.default.bool,anchorProps:prop_types_1.default.objectOf(prop_types_1.default.any),onOpen:prop_types_1.default.func,onClose:prop_types_1.default.func,options:prop_types_1.default.arrayOf(prop_types_1.default.any),placeholder:prop_types_1.default.string,title:prop_types_1.default.string,"aria-label":prop_types_1.default.string,minFilterChar:prop_types_1.default.number,disabled:prop_types_1.default.bool,optionSeparator:prop_types_1.default.bool,dockRight:prop_types_1.default.bool,minDrawerWidth:prop_types_1.default.oneOfType([prop_types_1.default.number,prop_types_1.default.oneOf(["anchor"])]),enableCustomValues:prop_types_1.default.oneOfType([prop_types_1.default.bool,prop_types_1.default.oneOf(["sensitive","insensitive"])]),noOptionsMessage:prop_types_1.default.string,emptyFilterMessage:prop_types_1.default.string,enableSorting:prop_types_1.default.bool,selectedLabelPath:prop_types_1.default.oneOfType([prop_types_1.default.string,prop_types_1.default.func]),optionValuePath:prop_types_1.default.oneOfType([prop_types_1.default.string,prop_types_1.default.func]),optionLabelPath:prop_types_1.default.oneOfType([prop_types_1.default.string,prop_types_1.default.func]),onSelect:prop_types_1.default.func,onFocus:prop_types_1.default.func,onBlur:prop_types_1.default.func,onFilter:prop_types_1.default.func,isFiltering:prop_types_1.default.bool,isFilteringMessage:prop_types_1.default.string},Select.defaultProps={value:null,enableFiltering:!1,enableMultiSelect:!1,anchorProps:{},onOpen:null,onClose:null,placeholder:null,title:null,"aria-label":null,minFilterChar:1,disabled:!1,optionSeparator:!1,dockRight:!1,minDrawerWidth:"anchor",enableCustomValues:!1,options:null,noOptionsMessage:"No results found",emptyFilterMessage:"Type a value",enableSorting:!1,selectedLabelPath:null,optionLabelPath:"label",optionValuePath:"value",onSelect:null,onFocus:null,onBlur:null,onFilter:null,isFiltering:!1,isFilteringMessage:"Filtering..."},exports.default=Select;const _a=Select.propTypes,{Anchor}=_a,exportPropTypes=__rest(_a,["Anchor"]);exports.propTypes=exportPropTypes;const exportDefaultProps=Select.defaultProps;exports.defaultProps=exportDefaultProps},"../reactive/lib/components/inputs/input-messages/index.js":function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const input_messages_1=__importDefault(__webpack_require__("../reactive/lib/components/inputs/input-messages/input-messages.js"));exports.default=input_messages_1.default},"../reactive/lib/components/inputs/input-messages/input-messages.js":function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js")),prop_types_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/prop-types@15.8.1/node_modules/prop-types/index.js")),classnames_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/classnames@2.3.2/node_modules/classnames/index.js")),reduce_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/reduce.js")),isNil_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isNil.js")),isEmpty_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isEmpty.js")),build_id_1=__importDefault(__webpack_require__("../reactive/lib/common/build-id.js"));function buildMessageList(id,list,className){const elements=(0,reduce_1.default)(list,((acc,generalMessage,index)=>((0,isNil_1.default)(generalMessage)||acc.push(react_1.default.createElement("li",{key:index},generalMessage)),acc)),[]);return elements.length<=0?null:react_1.default.createElement("ul",{id,className},elements)}function InputMessages(props){const{id,className,messages}=props;if((0,isNil_1.default)(messages))return null;const{general,failure,success}=messages;return(0,isEmpty_1.default)(general)&&(0,isEmpty_1.default)(failure)&&(0,isEmpty_1.default)(success)?null:react_1.default.createElement("div",{id,className:(0,classnames_1.default)("ra-input-description",className)},buildMessageList((0,build_id_1.default)(id,"general"),general,"general-messages"),buildMessageList((0,build_id_1.default)(id,"success"),success,"success-messages"),buildMessageList((0,build_id_1.default)(id,"failure"),failure,"failure-messages"))}InputMessages.propTypes={id:prop_types_1.default.string,className:prop_types_1.default.string,messages:prop_types_1.default.shape({general:prop_types_1.default.arrayOf(prop_types_1.default.string),success:prop_types_1.default.arrayOf(prop_types_1.default.string),failure:prop_types_1.default.arrayOf(prop_types_1.default.string)})},InputMessages.defaultProps={id:null,className:null,messages:null},exports.default=InputMessages},"../reactive/lib/components/inputs/new-base/input-label.js":function(__unused_webpack_module,exports,__webpack_require__){var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);desc&&!("get"in desc?!m.__esModule:desc.writable||desc.configurable)||(desc={enumerable:!0,get:function(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result},__rest=this&&this.__rest||function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.defaultProps=exports.propTypes=void 0;const react_1=__importStar(__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js")),prop_types_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/prop-types@15.8.1/node_modules/prop-types/index.js")),classnames_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/classnames@2.3.2/node_modules/classnames/index.js")),shortid_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/shortid@2.2.15/node_modules/shortid/index.js")),isNil_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isNil.js")),isEmpty_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isEmpty.js")),index_1=__importDefault(__webpack_require__("../reactive/lib/components/inputs/input-messages/index.js"));class InputLabel extends react_1.PureComponent{constructor(props){super(props),this.labelRef=(0,react_1.createRef)(),this.inputContainerRef=(0,react_1.createRef)(),this.labelPreventDefault=this.labelPreventDefault.bind(this),this.state={labelId:null,inputId:null,descriptionId:null,labelledBy:null,baseId:shortid_1.default.generate()}}static getDerivedStateFromProps(nextProps,currentState){const{id,messages,"aria-labelledby":ariaLabelledBy,"aria-describedby":ariaDescribedBy}=nextProps,finalId=(0,isEmpty_1.default)(id)?currentState.baseId:id,labelId=`${finalId}-label`,inputId=`${finalId}-input`,descriptionId=(0,isNil_1.default)(messages)||(0,isEmpty_1.default)(messages.general)&&(0,isEmpty_1.default)(messages.failure)?null:`${finalId}-description`;return{finalId,labelId,inputId,labelledBy:!(0,isNil_1.default)(ariaLabelledBy)&&ariaLabelledBy.length>0?`${ariaLabelledBy} ${labelId}`:labelId,describedBy:!(0,isNil_1.default)(ariaDescribedBy)&&ariaDescribedBy.length>0?`${ariaDescribedBy}${null!==descriptionId?` ${descriptionId}`:""}`:descriptionId,descriptionId}}getInputElement(){return this.inputContainerRef.current.getInputElement()}focus(){this.inputContainerRef.current.focus()}labelPreventDefault(event){const{disabled}=this.props;disabled||event.target===this.labelRef.current&&event.preventDefault()}render(){const{className,label,hidden,messages,failure,variant,children}=this.props,{labelId,inputId,descriptionId,finalId,describedBy,labelledBy}=this.state;let labelText=null,LabelElement="div";return(0,isNil_1.default)(label)||(labelText=react_1.default.createElement("span",{className:"ra-input-label-text",ref:this.labelRef},label),label.length>0&&(LabelElement="label")),react_1.default.createElement("div",{id:finalId,className:(0,classnames_1.default)("ra-input",className,{[`ra-input-variant-${variant}`]:!(0,isEmpty_1.default)(variant),hidden,failure})},react_1.default.createElement(LabelElement,{className:"ra-input-label",id:labelId,htmlFor:inputId,tabIndex:"-1",onMouseDown:this.labelPreventDefault},labelText,children({finalId,describedBy,labelledBy,inputId})),react_1.default.createElement(index_1.default,{id:descriptionId,messages}))}}InputLabel.displayName="InputLabel",InputLabel.propTypes={id:prop_types_1.default.string,className:prop_types_1.default.string,label:prop_types_1.default.string,messages:prop_types_1.default.shape({general:prop_types_1.default.arrayOf(prop_types_1.default.string),success:prop_types_1.default.arrayOf(prop_types_1.default.string),failure:prop_types_1.default.arrayOf(prop_types_1.default.string)}),failure:prop_types_1.default.bool,"aria-labelledby":prop_types_1.default.string,"aria-describedby":prop_types_1.default.string,hidden:prop_types_1.default.bool,disabled:prop_types_1.default.bool,variant:prop_types_1.default.string,children:prop_types_1.default.func.isRequired},InputLabel.defaultProps={id:null,messages:null,failure:!1,className:null,label:null,"aria-labelledby":null,"aria-describedby":null,hidden:!1,disabled:!1,variant:null},exports.default=InputLabel;const _a=InputLabel.propTypes,{children}=_a,exportPropTypes=__rest(_a,["children"]);exports.propTypes=exportPropTypes;const exportDefaultProps=InputLabel.defaultProps;exports.defaultProps=exportDefaultProps,InputLabel.__docgenInfo={description:"",methods:[{name:"getInputElement",docblock:null,modifiers:[],params:[],returns:null},{name:"focus",docblock:null,modifiers:[],params:[],returns:null},{name:"labelPreventDefault",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null}],displayName:"InputLabel",props:{id:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"custom",raw:"prop_types_1.default.string"},required:!1},messages:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"custom",raw:"prop_types_1.default.shape({\n    general: prop_types_1.default.arrayOf(prop_types_1.default.string),\n    success: prop_types_1.default.arrayOf(prop_types_1.default.string),\n    failure: prop_types_1.default.arrayOf(prop_types_1.default.string),\n})"},required:!1},failure:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"custom",raw:"prop_types_1.default.bool"},required:!1},className:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"custom",raw:"prop_types_1.default.string"},required:!1},label:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"custom",raw:"prop_types_1.default.string"},required:!1},"aria-labelledby":{defaultValue:{value:"null",computed:!1},description:"",type:{name:"custom",raw:"prop_types_1.default.string"},required:!1},"aria-describedby":{defaultValue:{value:"null",computed:!1},description:"",type:{name:"custom",raw:"prop_types_1.default.string"},required:!1},hidden:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"custom",raw:"prop_types_1.default.bool"},required:!1},disabled:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"custom",raw:"prop_types_1.default.bool"},required:!1},variant:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"custom",raw:"prop_types_1.default.string"},required:!1},children:{description:"",type:{name:"custom",raw:"prop_types_1.default.func.isRequired"},required:!1}}}},"../reactive/lib/hooks/use-collection-context/collection-item.js":function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const get_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/get.js")),isEmpty_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isEmpty.js")),FIELDS_id=Symbol("id"),FIELDS_value=Symbol("value"),FIELDS_filterPriority=Symbol("filterPriority"),FIELDS_originalIndex=Symbol("originalIndex");exports.default=class CollectionItem{constructor(id,value,index,accessSymbol){this[FIELDS_id]=id,this[FIELDS_value]=value,this[FIELDS_originalIndex]=index,this[FIELDS_filterPriority]=null,this[accessSymbol]={setFilterPriority:filterPriority=>{this[FIELDS_filterPriority]=filterPriority}}}getValue(path,defaultValue){return(0,isEmpty_1.default)(path)?this[FIELDS_value]:(0,get_1.default)(this[FIELDS_value],path,defaultValue)}getId(){return this[FIELDS_id]}getOriginalIndex(){return this[FIELDS_originalIndex]}getFilterPriority(){return this[FIELDS_filterPriority]}}},"../reactive/lib/hooks/use-collection-context/index.js":function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const use_collection_context_1=__importDefault(__webpack_require__("../reactive/lib/hooks/use-collection-context/use-collection-context.js"));exports.default=use_collection_context_1.default},"../reactive/lib/hooks/use-collection-context/use-collection-context.js":function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),isFunction_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isFunction.js")),forEach_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/forEach.js")),isEmpty_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isEmpty.js")),map_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/map.js")),isNil_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isNil.js")),use_filter_settings_1=__importDefault(__webpack_require__("../reactive/lib/hooks/use-collection-context/use-filter-settings.js")),use_sort_settings_1=__importDefault(__webpack_require__("../reactive/lib/hooks/use-collection-context/use-sort-settings.js")),collection_item_1=__importDefault(__webpack_require__("../reactive/lib/hooks/use-collection-context/collection-item.js"));function echo(val){return val}const ACCESS_SYMBOL=Symbol("AccessSymbol");exports.default=function useCollectionContext(rawItems,options){const op=(0,isFunction_1.default)(options)?options():options,filterState=(0,use_filter_settings_1.default)(null==op?void 0:op.filterSettings),sortState=(0,use_sort_settings_1.default)(null==op?void 0:op.sortSettings),getId=(0,react_1.useMemo)((()=>(0,isFunction_1.default)(null==options?void 0:options.getId)?options.getId:null)),beforeInsert=(0,react_1.useMemo)((()=>(0,isFunction_1.default)(null==options?void 0:options.beforeInsert)?options.beforeInsert:echo));let processed=!1;const{items,ids}=(0,react_1.useMemo)((()=>(processed=!0,function appendItems(items,newItems,getId,beforeInsert,filterState,sortState){const ids={};if((0,isEmpty_1.default)(newItems))return{ids,items};const count=items.length,listItems=(0,map_1.default)(newItems,((newItem,index)=>{let id=null;if(!(0,isNil_1.default)(getId)&&(id=getId(newItem),!(0,isNil_1.default)(ids[id])))throw new Error(`Invalid duplicate id: "${id}"`);const finalItem=beforeInsert(newItem),collectionItem=new collection_item_1.default(id,finalItem,count+index,ACCESS_SYMBOL);return collectionItem[ACCESS_SYMBOL].setFilterPriority(filterState.processValue(finalItem)),(0,isNil_1.default)(id)||(ids[id]=collectionItem),collectionItem}));return{ids,items:sortState.insert(items,listItems)}}([],rawItems,getId,beforeInsert,filterState,sortState))),[rawItems]);let sorted=!1;const filteredItems=(0,react_1.useMemo)((()=>processed?items:((0,forEach_1.default)(items,(item=>{const itemValue=item.getValue(),filterPriority=filterState.processValue(itemValue);item[ACCESS_SYMBOL].setFilterPriority(filterPriority)})),sortState.filterPriorityUsed?(sorted=!0,sortState.insert([],items)):items)),[filterState]),sortedItems=(0,react_1.useMemo)((()=>processed||sorted?filteredItems:sortState.insert([],filteredItems)),[sortState]),getById=(0,react_1.useCallback)((id=>ids[id]),[ids]);return[sortedItems,(0,react_1.useMemo)((()=>({getById})),[getById])]}},"../reactive/lib/hooks/use-collection-context/use-filter-settings.js":function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),isNil_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isNil.js")),toPath_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/toPath.js")),reduce_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/reduce.js")),isEmpty_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isEmpty.js")),isString_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isString.js")),startsWith_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/startsWith.js")),endsWith_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/endsWith.js")),isArray_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isArray.js")),isFinite_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isFinite.js")),isBoolean_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isBoolean.js")),forEach_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/forEach.js")),toLower_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/toLower.js")),keys_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/keys.js"));let doesMatch=null;function arrayDoesMatch(targets,value,targetPath,matchMethod){let match=!1;return(0,forEach_1.default)(targets,(target=>(match=doesMatch(target,value,targetPath,matchMethod),!match))),match}function processRawValue(rawValue,rule){let values=(0,isArray_1.default)(rawValue)?rawValue:[rawValue];if("string"===rule.as)values=function processStringValue(rawValues){return(0,reduce_1.default)(rawValues,((acc,rawValue)=>(!(0,isNil_1.default)(rawValue)&&rawValue.length>=1&&acc.push(rawValue.toLowerCase()),acc)),[])}(values);else if("number"===rule.as)(0,forEach_1.default)(values,(value=>{if(!(0,isFinite_1.default)(value))throw new Error("Value is not a number")}));else{if("boolean"!==rule.as)throw new Error('Invalid "as"');(0,forEach_1.default)(values,(value=>{if(!(0,isBoolean_1.default)(value))throw new Error("Value is not a boolean")}))}return(0,isNil_1.default)(values)||values.length<=0?null:values}function exactMatch(values,target){let found=!1;return(0,forEach_1.default)(values,(value=>(value===target&&(found=!0),!found))),found?1:0}function startsWithMatch(values,target){let found=!1;return(0,forEach_1.default)(values,(value=>((0,startsWith_1.default)(target,value)&&(found=!0),!found))),found?1:0}function endsWithMatch(values,target){let found=!1;return(0,forEach_1.default)(values,(value=>((0,endsWith_1.default)(target,value)&&(found=!0),!found))),found?1:0}function containsMatch(values,target){if((0,isNil_1.default)(target)||target.length<=0)return 0;const lowerTarget=(0,toLower_1.default)(target),targetLength=lowerTarget.length;return(targetLength-(0,reduce_1.default)(values,((acc,valueItem)=>{const index=lowerTarget.indexOf(valueItem);return index>=0&&index<acc?index:acc}),targetLength))/targetLength}function processRules(rules){if((0,isNil_1.default)(rules))return{};let cleanedRules=rules;return((0,isString_1.default)(rules)||(0,isArray_1.default)(rules))&&(cleanedRules={undefined:rules}),(0,reduce_1.default)(cleanedRules,((acc,rule,key)=>{const processedRule=function processRule(rawRule){let rule=rawRule;(0,isString_1.default)(rule)?rule={paths:[rule]}:(0,isArray_1.default)(rule)&&(rule={paths:rule});const paths=(0,reduce_1.default)(rule.paths,((acc,targetPath)=>(acc.push((0,toPath_1.default)(targetPath)),acc)),[]);if(paths.length<=0)return null;const{match}=rule;let{as:asValue}=rule,matchMethod=null;return"number"===asValue||"boolean"===asValue?matchMethod=exactMatch:(asValue="string",matchMethod="exact"===match?exactMatch:"startsWith"===match?startsWithMatch:"endWith"===match?endsWithMatch:containsMatch),{matchMethod,as:asValue,paths}}(rule);return(0,isNil_1.default)(processedRule)||(acc[key]=processedRule),acc}),{})}doesMatch=function doesMatchMethod(item,values,targetPath,matchMethod){let target=item;for(let counter=0;counter<targetPath.length&&!(0,isNil_1.default)(target);counter+=1){const targetPathPart=targetPath[counter];if("*"===targetPathPart)return arrayDoesMatch(target,values,targetPath.slice(counter+1),matchMethod);target=target[targetPathPart]}return matchMethod(values,target)},exports.default=function useFilterSettings(settings){var _a,_b;const rules=null!==(_a=null==settings?void 0:settings.rules)&&void 0!==_a?_a:null,values=null!==(_b=null==settings?void 0:settings.values)&&void 0!==_b?_b:null,processedRules=(0,react_1.useMemo)((()=>processRules(rules)),[rules]),{enabled,valueItemsList:processedValues}=(0,react_1.useMemo)((()=>function processRawValues(rules,values){const remaining={};if(!(0,isNil_1.default)(values)){let cleanedValues=values;(0,isString_1.default)(values)?cleanedValues={undefined:[values]}:(0,isArray_1.default)(values)&&(cleanedValues={undefined:values}),(0,forEach_1.default)(cleanedValues,((value,key)=>{const rule=rules[key];if((0,isNil_1.default)(rule))return;if((0,isNil_1.default)(value))return;const result=processRawValue(value,rule);(0,isNil_1.default)(result)||(remaining[key]=result)}))}return{enabled:!(0,isEmpty_1.default)(remaining),valueItemsList:remaining}}(processedRules,values)),[processedRules,values]),processValue=(0,react_1.useCallback)((item=>{if(!enabled)return 1;let found=!1,finalCount=0;const count=(0,keys_1.default)(processedValues).length;return(0,forEach_1.default)(processedValues,((processedValue,key)=>{const rule=processedRules[key],pathCount=rule.paths.length;let resultCount=(0,reduce_1.default)(rule.paths,((acc,path)=>{let ret=doesMatch(item,processedValue,path,rule.matchMethod);return ret/=pathCount,acc+ret}),0);return resultCount/=count,finalCount+=resultCount,found=resultCount>0,found})),found?finalCount:0}),[processedRules,values]);return(0,react_1.useMemo)((()=>({rules,values,processValue})),[rules,values,processValue])}},"../reactive/lib/hooks/use-collection-context/use-sort-settings.js":function(__unused_webpack_module,exports,__webpack_require__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),isNil_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isNil.js")),orderBy_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/orderBy.js")),isEmpty_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isEmpty.js")),forEach_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/forEach.js")),isString_1=__importDefault(__webpack_require__("../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isString.js")),lodash_1=__webpack_require__("../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/lodash.js");function sorter(by,order,left,right){let result=0;return(0,forEach_1.default)(by,((target,index)=>{const leftTarget=target(left),rightTarget=target(right);return result=function sortCheck(left,right){return left>right?1:left<right?-1:0}(leftTarget,rightTarget),"desc"===order[index]&&(result*=-1),0===result})),result}function getPropToLower(prop,listItem){const value=listItem.getValue(prop);return(0,isNil_1.default)(value)?value:`${value}`.toLowerCase()}function getProp(prop,listItem){return listItem.getValue(prop)}function getFilterPriority(listItem){return listItem.getFilterPriority()}function getIndex(listItem){return listItem.getOriginalIndex()}exports.default=function useSortSettings(settings){var _a;const rules=null!==(_a=null==settings?void 0:settings.rules)&&void 0!==_a?_a:null,{by,order,filterPriorityUsed}=(0,react_1.useMemo)((()=>function processSortRules(sortRules){const by=[],order=[];let filterPriorityUsed=!1,preRules=sortRules;return(0,lodash_1.isArray)(preRules)||(preRules=[preRules]),(0,forEach_1.default)(preRules,(sortRule=>{if(!(0,isNil_1.default)(sortRule))if((0,isString_1.default)(sortRule))by.push(getPropToLower.bind(null,sortRule)),order.push("asc");else if(order.push("desc"===sortRule.order?"desc":"asc"),"filter"===sortRule.type)by.push(getFilterPriority),filterPriorityUsed=!0;else{if(!(0,isNil_1.default)(sortRule.type)&&"property"!==sortRule.type)throw new Error("type is invalid");"string"===sortRule.as?sortRule.caseSensitive?by.push(getProp.bind(null,sortRule.path)):by.push(getPropToLower.bind(null,sortRule.path)):"number"===sortRule.as&&by.push(getProp.bind(null,sortRule.path))}}),[]),by.push(getIndex),order.push("asc"),{by,order,filterPriorityUsed}}(rules)),[rules]),insert=(0,react_1.useCallback)(((items,newItems)=>{const sortedItems=(0,orderBy_1.default)(newItems,by,order);return items.length<=0?sortedItems:function insertSort(currentList,newList,by,order){if((0,isEmpty_1.default)(currentList))return newList;let counter=0;return(0,forEach_1.default)(newList,(newItem=>{let added=!1;for(;!added&&counter<currentList.length;counter+=1){const currentItem=currentList[counter];sorter(by,order,newItem,currentItem)<0&&(currentList.splice(counter,0,newItem),added=!0)}added||currentList.splice(counter,0,newItem)})),currentList}(items,sortedItems,by,order)}),[by,order]);return(0,react_1.useMemo)((()=>({rules,insert,filterPriorityUsed})),[rules,filterPriorityUsed,insert])}}}]);